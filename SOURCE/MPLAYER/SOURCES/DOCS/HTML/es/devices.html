<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>2.3. Dispositivos de Salida</title><link rel="stylesheet" href="default.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.71.0"><link rel="start" href="index.html" title="MPlayer - El reproductor de Películas para LINUX"><link rel="up" href="features.html" title="Capítulo 2. Características"><link rel="prev" href="codecs.html" title="2.2. Codecs soportados"><link rel="next" href="tv-input.html" title="2.4. Entrada de TV"><link rel="preface" href="howtoread.html" title="Como leer esta documentación"><link rel="chapter" href="intro.html" title="Capítulo 1. Introducción"><link rel="chapter" href="features.html" title="Capítulo 2. Características"><link rel="chapter" href="usage.html" title="Capítulo 3. Uso"><link rel="chapter" href="faq.html" title="Capítulo 4. Preguntas de Usuario Frecuentes"><link rel="chapter" href="cd-dvd.html" title="Capítulo 5. Uso de CD/DVD"><link rel="chapter" href="ports.html" title="Capítulo 6. Adaptaciones"><link rel="chapter" href="mencoder.html" title="Capítulo 7. Codificando con MEncoder"><link rel="appendix" href="bugreports.html" title="Apéndice A. Cómo reportar errores"><link rel="appendix" href="bugs.html" title="Apéndice B. Problemas conocidos"><link rel="appendix" href="skin.html" title="Apéndice C. Formato del skin de MPlayer"><link rel="subsection" href="devices.html#video-dev" title="2.3.1. Dispositivos de salida de video"><link rel="subsection" href="devices.html#audio-dev" title="2.3.2. Dispositivos de salida de audio"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.3. Dispositivos de Salida</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="codecs.html">Anterior</a> </td><th width="60%" align="center">Capítulo 2. Características</th><td width="20%" align="right"> <a accesskey="n" href="tv-input.html">Siguiente</a></td></tr></table><hr></div><div class="sect1" lang="es"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="devices"></a>2.3. Dispositivos de Salida</h2></div></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="video-dev"></a>2.3.1. Dispositivos de salida de video</h3></div></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="mtrr"></a>2.3.1.1. Configurando MTRR</h4></div></div></div><p>
Es MUY recomendable comprobar si los registros MTRR están
correctamente establecidos, porque pueden proporcionar un
aumento considerable de rendimiento.
</p><p>
Haga <span><strong class="command">cat /proc/mtrr</strong></span>:
</p><pre class="screen">
<code class="prompt">--($:~)--</code> cat /proc/mtrr
reg00: base=0xe4000000 (3648MB), size=  16MB: write-combining, count=9
reg01: base=0xd8000000 (3456MB), size= 128MB: write-combining, count=1</pre><p>
</p><p>
Esto es lo correcto, muestra mi Matrox G400 con 16MB de memoria.
Tengo esto por usar XFree 4.x.x, que configura los registros MTRR
automáticamente.
</p><p>
Si no funciona, deberá hacerlo de manera manual. Primero, debe encontrar
la dirección base. Tiene 3 formas de encontrarla:

</p><div class="orderedlist"><ol type="1"><li><p>
  desde los mensajes de inicio de X11, por ejemplo:
  </p><pre class="screen">
(--) SVGA: PCI: Matrox MGA G400 AGP rev 4, Memory @ 0xd8000000, 0xd4000000
(--) SVGA: Linear framebuffer at 0xD8000000</pre><p>
  </p></li><li><p>
  de <tt class="filename">/proc/pci</tt> (use la órden <span><strong class="command">lspci -v</strong></span>):
  </p><pre class="screen">
01:00.0 VGA compatible controller: Matrox Graphics, Inc.: Unknown device 0525
Memory at d8000000 (32-bit, prefetchable)
  </pre><p>
  </p></li><li><p>
  de los mensajes del controlador del kernel mga_vid kernel (use <span><strong class="command">dmesg</strong></span>):
  </p><pre class="screen">mga_mem_base = d8000000</pre><p>
  </p></li></ol></div><p>
</p><p>
Después encuentre el tamaño de la memoria. Esto es muy fácil, convierta el
tamaño de la memoria RAM de video a hexadecimal, o use esta tabla:
</p><div class="informaltable"><table border="0"><colgroup><col><col></colgroup><tbody><tr><td>1 MB</td><td>0x100000</td></tr><tr><td>2 MB</td><td>0x200000</td></tr><tr><td>4 MB</td><td>0x400000</td></tr><tr><td>8 MB</td><td>0x800000</td></tr><tr><td>16 MB</td><td>0x1000000</td></tr><tr><td>32 MB</td><td>0x2000000</td></tr></tbody></table></div><p>
</p><p>
Ahora ya conoce la dirección base y el tamaño de la memoria, ¡vamos
a configurar los registros MTRR!
Por ejemplo, para la tarjeta Matrox de antes (<code class="literal">base=0xd8000000</code>)
con 32MB ram (<code class="literal">size=0x2000000</code>) ejecute:
</p><pre class="screen">
echo "base=0xd8000000 size=0x2000000 type=write-combining" &gt;| /proc/mtrr
</pre><p>
</p><p>
No todas las CPUs soportan MTRRs. Por ejemplo K6-2's antiguos (alrededor
de 266MHz, stepping 0) no soportan MTRR, pero stepping 12's lo
soportan
(<span><strong class="command">cat /proc/cpuinfo</strong></span> para comprobarlo).
</p></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="output-trad"></a>2.3.1.2. Salidas de video para tarjetas de video tradicionales</h4></div></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="xv"></a>2.3.1.2.1. Xv</h5></div></div></div><p>
Bajo XFree86 4.0.2 o posterior, puede usar las rutinas de hardware YUV de su
tarjeta gráfica usando la extensión XVideo. Esto es lo que usa la opción
<tt class="option">-vo xv</tt>. Además, este controlador soporta ajustes de
brillo/contraste/saturación/etc (a menos que use el antiguo, lento codec
DirectShow DivX, que tiene soporte siempre), vea la página de manual.
</p><p>
Para que esto funcione, asegúrese de comprobar lo siguiente:

</p><div class="orderedlist"><ol type="1"><li><p>
  Tiene que usar XFree86 4.0.2 o posterior (otras versiones no tienen XVideo)
  </p></li><li><p>
  Su tarjeta actualmente soporta aceleración hardware (las modernas lo hacen)
  </p></li><li><p>
  X carga la extensión XVideo, esto es algo como:
  </p><pre class="programlisting">(II) Loading extension XVideo</pre><p>
  en <tt class="filename">/var/log/XFree86.0.log</tt>
  </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
   Esto carga solo la extensión de XFree86. En una instalación buena, siempre
   es cargado, y no importa si el soporte XVideo para la
   <span class="bold"><strong>tarjeta</strong></span> ha sido cargado!
  </p></div><p>
  </p></li><li><p>
  Su tarjeta tiene soporte Xv bajo Linux. Para comprobarlo, pruebe
  <span><strong class="command">xvinfo</strong></span>, es parte de la distribucióno XFree86. Debe mostrar
  un texto largo, similar a éste:
  </p><pre class="screen">
X-Video Extension version 2.2
screen #0
  Adaptor #0: "Savage Streams Engine"
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
(...)
    Number of image formats: 7
      id: 0x32595559 (YUY2)
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        type: YUV (packed)
      id: 0x32315659 (YV12)
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        type: YUV (planar)
(...etc...)</pre><p>
  Debe soportar formatos de pixel YUY2 packed, y YV12 planar para ser
  usables con <span class="application">MPlayer</span>.
  </p></li><li><p>
  Y finalmente, compruebe si <span class="application">MPlayer</span> fue
  compilado con soporte 'xv'.
  Haga <span><strong class="command">mplayer -vo help | grep xv</strong></span>. Si fue compilado
  con soporte 'xv', aparecerá una línea similar a:
  </p><pre class="screen">
  xv    X11/Xv</pre><p>
  </p></li></ol></div><p>
</p><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="tdfx"></a>2.3.1.2.1.1. Tarjetas 3dfx</h6></div></div></div><p>
Controladores antiguos 3dfx se sabe que tienen problemas con la aceleración
XVideo, no soportan ni YUY2 ni YV12, ni nada. Verifique que tiene XFree86
versión 4.2.0 o posterior, este funciona bien con YV12 y YUY2. Versiones
previas, incluyendo 4.1.0, <span class="bold"><strong>falla con YV12</strong></span>.
Si experiencia efectos extraños usando <tt class="option">-vo xv</tt>, pruebe SDL
(tiene XVideo también) y vea si eso puede ayudarle. Compruebe la
sección <a href="devices.html#sdl" title="2.3.1.2.3. SDL">SDL</a> para más detalles.
</p><p>
¡<span class="bold"><strong>O</strong></span>, pruebe el NUEVO controlador
<tt class="option">-vo tdfxfb</tt>! Vea la sección <a href="devices.html#tdfxfb" title="2.3.1.2.7. Soporte 3Dfx YUV">tdfxfb</a>.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="s3"></a>2.3.1.2.1.2. Tarjetas S3</h6></div></div></div><p>
Las S3 Savage3D deben funcionar bien, pero para Savage4, use XFree86 version 4.0.3
o posterior (en caso de problemas con la imagen, pruebe 16bpp). Como para
S3 Virge: hay soporte xv, pero la tarjeta es lenta por sí misma, será mejor que
la venda.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Actualmente no está claro qué modelos de Savage carecen de soporte YV12, y
convierten por controlador (lento). Si sospecha de su tarjeta, obtenga un
controlador nuevo, o pregunte de forma correcta en la lista de correo
mplayer-users por un controlador con soporte para MMX/3DNow.
</p></div></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="nvidia"></a>2.3.1.2.1.3. Tarjetas nVidia</h6></div></div></div><p>
nVidia no es siempre una buena elección bajo Linux ... El controlador de
código abierto de XFree86 tiene soporte en la mayoría de los casos, pero para
algunas tarjetas, tiene que usar un controlador de código-cerrado de nVidia,
disponible en
<a href="http://www.nvidia.com/object/linux.html" target="_top">el sitio web de nVidia</a>.
Siempre necesitará ese controlador de todos modos si quiere también aceleración 3D.
</p><p>
Las tarjetas Riva128 no tienen soporte XVideo con el controlador nVidia de
XFree86 :( Las quejas a nVidia.
</p><p>
Sin embargo, <span class="application">MPlayer</span> contiene un controlador
<a href="devices.html#vidix" title="2.3.1.2.13. VIDIX">VIDIX</a> para la mayoría de las tarjetas nVidia.
Actualmente está en estado beta, y tiene algunos problemas. Para más
información, vea la sección <a href="devices.html#vidix-nvidia" title="2.3.1.2.13.5. Tarjetas nVidia">nVidia VIDIX</a>.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="ati"></a>2.3.1.2.1.4. Tarjetas ATI</h6></div></div></div><p>
El <a href="http://www.linuxvideo.org/gatos" target="_top">controlador GATOS</a>
(que es el que debería de usar, a menos que tenga una Rage128 o Radeon) tiene
VSYNC activado por defecto. Esto significa que tiene velocidad de decodificación (!)
sincronizado con la tasa de refresco del monitor. Si la reproducción es lenta, pruebe
a desactivar VSYNC, o establezca una tasa de refresco a n*(fps de la película) Hz.
</p><p>
Radeon VE - si necesita X, use XFree86 4.2.0 o posterior para esta tarjeta.
No tiene soporte de salida de TV. Por supuesto con <span class="application">MPlayer</span>
puede felizmente obtener gráficos <span class="bold"><strong>acelerados</strong></span>, con o
sin <span class="bold"><strong>salida TV</strong></span>, y no se necesitan bibliotecas o X.
Lea la sección <a href="devices.html#vidix" title="2.3.1.2.13. VIDIX">VIDIX</a>.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="neomagic"></a>2.3.1.2.1.5. Tarjetas NeoMagic</h6></div></div></div><p>
Estas tarjetas se pueden encontrar en algunos portátiles. Debe usar XFree86 4.3.0 o
posterior, o incluso los controladores de Stefan Seyfried
<a href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/" target="_top">Xv-capable</a>.
Elija el que corresponda a su versión de XFree86.
</p><p>
XFree86 4.3.0 incluye soporte  Xv, a pesar de eso Bohdan Horst envió un pequeño
<a href="http://www.mplayerhq.hu/MPlayer/contrib/NeoMagic-driver/neo_driver.patch" target="_top">parche</a>
contra los fuentes de XFree86 que aceleran las operaciones de framebuffer (y XVideo por tanto)
hasta cuatro veces. El parche ha sido incluido en XFree86 CVS y deberá estar en la
siguiente liberación después de la 4.3.0.
</p><p>
Para permitir reproducción de contenido de tamaño de DVD cambie su XF86Config como este:
</p><pre class="programlisting">
Section "Device"
    [...]
    Driver "neomagic"
    <span class="emphasis"><em>Option "OverlayMem" "829440"</em></span>
    [...]
EndSection</pre><p>
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="trident"></a>2.3.1.2.1.6. Tarjetas Trident</h6></div></div></div><p>
Si quiere usar xv con una tarjeta trident, sepa que no funciona con
4.1.0, instale XFree 4.2.0. 4.2.0 añade soporte para Xv en pantalla completa
con la tarjeta Cyberblade XP.
</p><p>
Alternativamente, <span class="application">MPlayer</span> contiene un controlador
<a href="devices.html#vidix" title="2.3.1.2.13. VIDIX">VIDIX</a> para la tarjeta Cyberblade/i1.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="kyro"></a>2.3.1.2.1.7. Tarjetas Kyro/PowerVR</h6></div></div></div><p>
Si quiere usar Xv con una tarjeta basada en Kyro (por ejemplo Hercules
Prophet 4000XT), debe descargar los controladores desde
<a href="http://www.powervr.com/" target="_top">el sitio de PowerVR</a>
</p></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="dga"></a>2.3.1.2.2. DGA</h5></div></div></div><p><b>PREÁMBULO. </b>
Este documento intenta explicar en pocas palabras que es DGA en general
y que puede hacer el controlador de video DGA de <span class="application">MPlayer</span>
(y qué no puede hacer).
</p><p><b>QUÉ ES DGA. </b>
<acronym class="acronym">DGA</acronym> es una abreviatura para <span class="emphasis"><em>Direct Graphics
Access</em></span> y eso significa que es un programa que pasa por alto
el servidor X y modifica directamente la memoria de framebuffer. Técnicamente
hablando esto se hace mapeando la memoria del framebuffer en el rango de
memoria de su proceso. Esto es permitido por el kernel solo si tiene privilegios
de superusuario. Puede obtenerlos identificandose como
<code class="systemitem">root</code> o estableciendo el bit SUID en
el ejecutable de <span class="application">MPlayer</span> (<span class="bold"><strong>no
recomendado</strong></span>).
</p><p>
Hay dos versiones de DGA: DGA1 es usado por XFree 3.x.x y DGA2 fue
introducido con Xfree 4.0.1.
</p><p>
DGA1 provee solo acceso directo al framebuffer como se describe más arriba.
Para cambiar la resolución de la señal de video debe apoyarse en la extensión
XVidMode.
</p><p>
DGA2 incorpora las características de la extensión XVidMode y también
permite cambiar la profundidad de color de la pantalla. Con eso puede,
básicamente ejecutar un servidor X con profundidad de color de 32 bit,
cambiando a una profundidad de 15 bits y viceversa.
</p><p>
Sin embargo DGA tiene algunos problemas. Parece ser muy dependiente del
chip gráfico que usa en la implementación del controlador de video en
el servidor X que controla a este chip. Por eso no funciona en todos los
sistemas...
</p><p><b>INSTALANDO SOPORTE DGA PARA <span class="application">MPlayer</span>. </b>Primero asegura que X carga la extensión DGA, mira en
<tt class="filename">/var/log/XFree86.0.log</tt>:

</p><pre class="programlisting">(II) Loading extension XFree86-DGA</pre><p>

Vea, ¡XFree86 4.0.x o posterior es <span class="bold"><strong>altamente recomendado</strong></span>!
El controlador DGA de <span class="application">MPlayer</span> es autodetectado
por <tt class="filename">./configure</tt>, o puede forzarlo con <tt class="option">--enable-dga</tt>.
</p><p>
Si el controlador no puede cambiar a una resolución menor, experimente
con opciones <tt class="option">-vm</tt> (solo con X 3.3.x), <tt class="option">-fs</tt>,
<tt class="option">-bpp</tt>, <tt class="option">-zoom</tt> para encontrar un modo de
video donde quepa la película. No hay un conversor bueno por ahora :(
</p><p>
Hágase <code class="systemitem">root</code>. DGA necesita acceso
root para permitir escribir directamente en la memoria de video. Si quiere
ejecutarlo como usuario, entonces instale <span class="application">MPlayer</span>
SUID root:

</p><pre class="screen">
chown root <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod 750 <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
chmod +s <em class="replaceable"><code>/usr/local/bin/mplayer</code></em>
</pre><p>

Ahora funciona como usuario simple, también.
</p><div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Riesgos de seguridad</h3><p>
¡Esto es un <span class="bold"><strong>gran</strong></span> riesgo de seguridad!
<span class="bold"><strong>Nunca</strong></span> haga esto en un servidor o en un ordenador
que pueda ser accedido por otra gente porque pueden ganar privilegios de root
a través del <span class="application">MPlayer</span> SUID root.
</p></div><p>
Ahora use la opción <tt class="option">-vo dga</tt>, y ya debe ir! (espero :) También
debe probar si la opción <tt class="option">-vo sdl:dga</tt> funciona para usted!
¡Esto es mucho más rápido!
</p><p><a name="dga-modelines"></a><b>CAMBIOS DE RESOLUCIÓN. </b>
El controlador DGA le permite cambiar la resolución de la señal de salida.
Esto evita tener que hacer escalado por software (lento) y al mismo tiempo
provee imagen a pantalla completa. Idealmente debe cambiarse a la resolución
exacta (excepto para respetar relación de aspecto) de los datos de video, pero
el servidor X solo permite cambiar resoluciones predefinidas en
<tt class="filename">/etc/X11/XF86Config</tt>
<tt class="filename">/etc/X11/XF86Config</tt>
(<tt class="filename">/etc/X11/XF86Config-4</tt> para XFree 4.X.X respectivamente).
Estas son definidas por las llamadas modelines y dependen de las capacidades
de su hardware de video. El servidor X escanea este archivo de configuración
durante el inicio y desactiva los modelines que no sirvan para su hardware.
Puede encontrar que modos sobreviven en el archivo de historial de X11. Puede
encontrarse en: <tt class="filename">/var/log/XFree86.0.log</tt>.
</p><p>
Se sabe que estas entradas funcionan bien con un chip Riva128, usando el
modulo de controlador nv.o del servidor X.
</p><pre class="programlisting">
Section "Modes"
  Identifier "Modes[0]"
  Modeline "800x600"  40     800 840 968 1056  600 601 605 628
  Modeline "712x600"  35.0   712 740 850 900   400 410 412 425
  Modeline "640x480"  25.175 640 664 760 800   480 491 493 525
  Modeline "400x300"  20     400 416 480 528   300 301 303 314 Doublescan
  Modeline "352x288"  25.10  352 368 416 432   288 296 290 310
  Modeline "352x240"  15.750 352 368 416 432   240 244 246 262 Doublescan
  Modeline "320x240"  12.588 320 336 384 400   240 245 246 262 Doublescan
EndSection
</pre><p><b>DGA &amp; <span class="application">MPlayer</span>. </b>
DGA es usado en dos lugares con <span class="application">MPlayer</span>: El
controlador SDL puede prepararse para que lo use (<tt class="option">-vo sdl:dga</tt>)
y el controlador DGA (<tt class="option">-vo dga</tt>. Lo mencionado más arriba es
correcto para ambos; en las siguientes secciones explicaré cómo funciona
el controlador DGA para <span class="application">MPlayer</span>.
</p><p><b>CARACTERISTICAS. </b>
El controlador DGA es invocado especificando <tt class="option">-vo dga</tt> en la
línea de órdenes. El comportamiento por defecto es cambiar a una resolución
que coincida con la resolución original del video o tan cercana como sea
posible. De forma deliberada ignora las opciones <tt class="option">-vm</tt> y
<tt class="option">-fs</tt> (activando el cambio de modo de video y pantalla
completa) - siempre intenta cubrir tanta área de su pantalla como sea
posible cambiando el modo de video, lo que lo hace usar un ciclo adicional
de su CPU para escalar la imagen. Si no le gusta este modo que elije puede
forzar que se elija el modo que se ajuste más a la resolución especificada
por <tt class="option">-x</tt> y <tt class="option">-y</tt>. Proporcionando la opción
<tt class="option">-v</tt>, el controlador DGA imprimirá, junto con otro montón
de cosas, una lista de todas las resoluciones soportadas por su archivo
<tt class="filename">XF86Config</tt> actual. Teniendo DGA2 también puede forzar
que se use cierta profundidad de color usando la opción <tt class="option">-bpp</tt>.
Profundidades de color válidas son 15, 16, 24 y 32. Depende de su hardware
que estén soportadas de manera nativa o que se hagan mediante una conversión
por software (posiblemente lento).
</p><p>
Si tiene la suerte suficiente para tener memoria fuera de pantalla restante
donde colocar una imagen entera, el controlador DGA usará doblebuffering,
lo que puede resultar en una reproducción de la película mucho más suave.
Le informará de cuándo está activado o no el doble-buffer.
</p><p>
Doblebuffering significa que el siguiente marco de su video está siendo
dibujado en alguna zona de memoria fuera de la pantalla mientras se muestra
el marco actual. Cuando el siguiente marco está listo, el chip de gráficos
solo dice la posición en memoria donde se encuentra y muestra los datos
que hay allí. Mientras tanto el otro buffer en memoria es rellenado de nuevo
con nuevos datos de video.
</p><p>
Doblebuffering puede ser activado usando la opción <tt class="option">-double</tt>
y desactivado con <tt class="option">-nodouble</tt>. Actualmente la opción por
defecto es doblebuffering desactivado. Cuando use el controlador DGA,
la información en pantalla (OSD) solo funciona si está el doblebuffering activado.
Sin embargo, activar doblebufferint puede resultar en una falta grande
de velocidad (en mi K6-II+ 525 usa un 20% adicional de tiempo de CPU!) dependiendo
de la implementación de DGA para su hardware.
</p><p><b>ASUNTOS SOBRE VELOCIDAD. </b>
Generalmente hablando, el acceso DGA al framebuffer debe ser al menos tan
rápido como usar el controlador X11 con el beneficio adicional de obtener
una imagen a pantalla completa. Los porcentajes de velocidad son impresos por
<span class="application">MPlayer</span> y se tienen que interpretar con cuidado,
por ejemplo, con el controlador X11 no se incluye el tiempo usado por
el servidor X necesario para realizar el dibujo en pantalla. Conecte un
terminal serie a su equipo e inicie <span><strong class="command">top</strong></span> para ver qué
es realmente lo que está ocurriendo en su equipo.
</p><p>
Generalmente hablando, el aumento de velocidad por usar DGA frente al uso
'normal' usando X11 depende en gran medida de su tarjeta gráfica y de cómo
de optimizado esté el módulo del servidor X.
</p><p>
Si tiene un sistema lento, mejor use 15 o 16 bit de profundidad de color porque
requieren solo la mitad de ancho de banda de memoria que una pantalla de 32 bit.
</p><p>
Usar una profundidad de color de 24 bit sigue siendo incluso buena idea aunque
su tarjeta soporte 32 bit de forma nativa porque transfiere 25% menos datos que
el modo 32/32.
</p><p>
He visto algunos archivos AVI reproducidos en un Pentium MMX 266. Las CPUs
AMD K6-2 deben funcionar a 400 MHz o superior.
</p><p><b>FALLOS CONOCIDOS. </b>
Bien, de acuerdo con algunos desarrolladores de XFree, DGA es bastante
bestia. Ellos aconsejan que es mejor no usarlo. Su implementación no
funciona bien con todos los controladores de chipsets para XFree existentes.
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Con XFree 4.0.3 y <tt class="filename">nv.o</tt> hay un fallo que resulta en
  extraños colores.
  </p></li><li><p>
  El controlador ATI requiere cambiar el modo original más de una vez una
  vez finaliza el uso de DGA.
  </p></li><li><p>
  Algunos controladores símplemente fallan al volver a la resolución
  normal (use
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad +</b></span> y 
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>Keypad -</b></span>
  para volver al modo normal de manera manual).
  </p></li><li><p>
  Algunos controladores símplemente muestran colores extraños.
  </p></li><li><p>
  Algunos controladores se quejan de la cantidad de memoria que intenta
  mapear el espacio de direcciones del proceso, incluso cuando vo_dga no
  quiere usar doblebuffering (¿SIS?).
  </p></li><li><p>
  Algunos controladores parecen fallar informando de un único modo
  válido. En este caso el controlador DGA falla diciendole que no tiene
  sentido el modo 100000x100000 o algo así.
  </p></li><li><p>
  OSD solo funciona con doblebuffering activado (si no parpadea).
  </p></li></ul></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="sdl"></a>2.3.1.2.3. SDL</h5></div></div></div><p>
<acronym class="acronym">SDL</acronym> (Simple Directmedia Layer) es básicamente una
interfaz unificada de video/audio. Los programas que la usan solo tienen
que preocuparse de SDL, y no del controlador de video o audio que SDL esté
usando. Por ejemplo una versión de Doom que use SDL puede usarse en
svgalib, aalib, X, fbdev, y otros, solo tiene que especificar el (por
ejemplo) controlador de video a usar con la variable de entorno
<code class="envar">SDL_VIDEODRIVER</code>. Bueno, teóricamente.
</p><p>
Con <span class="application">MPlayer</span>, se usa la característica del escalador
software del controlador X11 para tarjetas/controladores que no soportan
XVideo, hasta que hagamos nuestro propio (más rápido, más bonito) escalador
por software. También usamos su salida aalib, pero ahora tenemos el nuestro propio
que es más confortable. Su modo DGA fue mejor que el nuestro, hasta hace poco.
¿Lo quiere probar ahora? :)
</p><p>
También ayuda con algunos controladores/tarjetas con fallos si el video va
a saltos (sin ser un problema de sistema lento), o el audio va con retardo.
</p><p>
La salida de video SDL permite mostrar los subtítulos debajo de la película,
en la (si está presente) banda negra.
</p><div class="variablelist"><p class="title"><b>Hay varias opciones en la línea de órdenes para SDL:</b></p><dl><dt><span class="term"><tt class="option">-vo sdl:<em class="replaceable"><code>nombre</code></em></tt></span></dt><dd><p>
    especifica el controlador de SDL de video a usar (i.e. <code class="literal">aalib</code>,
    <code class="literal">dga</code>, <code class="literal">x11</code>)
  </p></dd><dt><span class="term"><tt class="option">-ao sdl:<em class="replaceable"><code>nombre</code></em></tt></span></dt><dd><p>
    especifica el controlador de SDL de audio a usar (i.e. <code class="literal">dsp</code>,
    <code class="literal">esd</code>, <code class="literal">arts</code>)
  </p></dd><dt><span class="term"><tt class="option">-noxv</tt></span></dt><dd><p>
    desactiva la aceleración hardware XVideo
  </p></dd><dt><span class="term"><tt class="option">-forcexv</tt></span></dt><dd><p>
    intenta forzar la aceleración XVideo
  </p></dd></dl></div><div class="table"><a name="id2561199"></a><p class="title"><b>Tabla 2.1. Teclas solo para SDL</b></p><div class="table-contents"><table summary="Teclas solo para SDL" border="1"><colgroup><col><col></colgroup><thead><tr><th>Tecla</th><th>Acción</th></tr></thead><tbody><tr><td><span class="keycap"><b>c</b></span></td><td>
    cambia entre los modos de pantalla completa disponibles
    </td></tr><tr><td><span class="keycap"><b>n</b></span></td><td>
    regresa al modo normal
    </td></tr></tbody></table></div></div><br class="table-break"><div class="itemizedlist"><p class="title"><b>Fallos conocidos:</b></p><ul type="disc"><li><p>
  Al pulsar teclas bajo una consola sdl:aalib el controlador la repite
  indefinidamente. (¡Mejor use la opción <tt class="option">-vo aa</tt>!) Es un
  fallo de SDL, yo no puedo cambiarlo (probado con SDL 1.2.1).
  </p></li><li><p>
  ¡NO USE SDL con GUI! El comportamiento no será el esperado.
  </p></li></ul></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="svgalib"></a>2.3.1.2.4. SVGAlib</h5></div></div></div><p><b>INSTALACIÓN. </b>
Debe instalar svgalib y su paquete de desarrollo para construir
<span class="application">MPlayer</span> con el controlador SVGAlib (es autodetectado,
aunque también puede forzarse), y no se olvide de editar
<tt class="filename">/etc/vga/libvga.config</tt> para configurar su tarjeta y su
monitor.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Asegúrese de no usar la opción <tt class="option">-fs</tt>, porque cambia el estado
del uso del escalador software, y es lento. Si realmente lo necesita, use
la opción <tt class="option">-sws 4</tt> lo que le producirá peor calidad, pero
es algo más rápido.
</p></div><p><b>SOPORTE EGA (4BPP). </b>
SVGAlib incorpora EGAlib, y <span class="application">MPlayer</span> tiene la
posibilidad de mostrar cualquier película en 16 colores, de manera que se
puede usar con las siguientes configuraciones de equipos:
</p><div class="itemizedlist"><ul type="disc"><li><p>
  Tarjeta EGA con monitor EGA: 320x200x4bpp, 640x200x4bpp, 640x350x4bpp
  </p></li><li><p>
  Tarjeta EGA con monitor CGA: 320x200x4bpp, 640x200x4bpp
  </p></li></ul></div><p>
El valor bpp (bits por pixel) debe establecerse a 4 manualmente:
<tt class="option">-bpp 4</tt>
</p><p>
La película probablemente deberá ser escalada para ajustarse al modo EGA:
</p><pre class="screen">-vf scale=640:350</pre><p>
o
</p><pre class="screen">-vf scale=320:200</pre><p>
</p><p>
Para eso se necesita una rutina de escalado de mala calidad pero rápida:
</p><pre class="screen">-sws 4</pre><p>
</p><p>
Quizá la corrección automática de relación de aspecto deberá desactivarse:
</p><pre class="screen">-noaspect</pre><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
De acuerdo con mi experiencia la mejor calidad de imagen
en pantallas EGA puede obtenerse decrementando el brillo un poco:
<tt class="option">-vf eq=-20:0</tt>. También necesité bajar la tasa de
muestreo en mi equipo, porque el sonido no funcionaba a 44kHz:
<tt class="option">-srate 22050</tt>.
</p></div><p>
Puede activar OSD y subtítulos solo con el filtro <tt class="option">expand</tt>,
vea la página de manual para los parámetros concretos.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="fbdev"></a>2.3.1.2.5. Salida en framebuffer (FBdev)</h5></div></div></div><p>
Si se construye o no el objetivo FBdev es autodetectado durante el
<tt class="filename">./configure</tt>. Lea la documentación del framebuffer en
los fuentes del núcleo (<tt class="filename">Documentation/fb/*</tt>) para más
información.
</p><p>
Si su tarjeta no soporta el estándar VBE 2.0 (tarjetas ISA/PCI antiguas, tales
como S3 Trio64), solo VBE 1.2 (¿o anterior?): Bueno, VESAfb sigue funcionando,
pero necesitará cargar SciTech Display Doctor (formalmente UniVBE) antes de
iniciar Linux. Use un disco de inicio DOS o similar. Y no olvide registrar
UniVBE ;))
</p><p>
La salida FBdev toma parámetros adicionales sobre los otros:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">-fb</tt></span></dt><dd><p>
    especifica el dispositivo framebuffer a usar (<tt class="filename">/dev/fb0</tt>)
    </p></dd><dt><span class="term"><tt class="option">-fbmode</tt></span></dt><dd><p>
    nombre del modo a usar (de acuerdo con <tt class="filename">/etc/fb.modes</tt>)
    </p></dd><dt><span class="term"><tt class="option">-fbmodeconfig</tt></span></dt><dd><p>
    archivo de configuración de modos (por defecto <tt class="filename">/etc/fb.modes</tt>)
    </p></dd><dt><span class="term"><tt class="option">-monitor-hfreq</tt>, </span><span class="term"><tt class="option">-monitor-vfreq</tt>, </span><span class="term"><tt class="option">-monitor-dotclock</tt></span></dt><dd><p>
    valores importantes <span class="bold"><strong>important</strong></span>, vea
    <tt class="filename">example.conf</tt>
    </p></dd></dl></div><p>
Si desea cambiar a un modo específico, use
</p><pre class="screen">
mplayer -vm -fbmode <em class="replaceable"><code>nombre_del_modo</code></em> <em class="replaceable"><code>nombrearchivo</code></em>
</pre><p>
</p><div class="itemizedlist"><ul type="disc"><li><p>
  <tt class="option">-vm</tt> sin más opciones elije el mejor modo desde
  <tt class="filename">/etc/fb.modes</tt>. Puede usarse junto con
  las opciones <tt class="option">-x</tt> y <tt class="option">-y</tt> también. La opción
  <tt class="option">-flip</tt> está soportada solo si el formato de pixel de la
  película coincide con el formato de pixel del modo de video. Preste atención
  al valor bpp, el controlador fbdev intentará usar el actual, o si especifica
  uno con la opción <tt class="option">-bpp</tt>, pues ese.
  </p></li><li><p>
  La opción <tt class="option">-zoom</tt> no está soportada (use <tt class="option">-vf scale</tt>).
  No puede usar modos de 8bpp (o menos).
  </p></li><li><p>
  Posiblemente quiera desactivar el cursor:
  </p><pre class="screen">echo -e '\033[?25l'</pre><p>
  o
  </p><pre class="screen">setterm -cursor off</pre><p>
  y el protector de pantalla:
  </p><pre class="screen">setterm -blank 0</pre><p>
  Para volver a activar el cursor:
  </p><pre class="screen">echo -e '\033[?25h'</pre><p>
  o
  </p><pre class="screen">setterm -cursor on</pre><p>
  </p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
Los cambios de modo de video para FBdev <span class="emphasis"><em>no funcionan</em></span> con
el framebuffer VESA, y no nos pida que funcione, porque no es una limitación
de <span class="application">MPlayer</span>.
</p></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="mga_vid"></a>2.3.1.2.6. Framebuffer de Matrox (mga_vid)</h5></div></div></div><p>
Esta sección se encarga de describir el soporte de Matrox
G200/G400/G450/G550 BES (Back-End Scaler), el controlador del núcleo mga_vid.
Está en activo desarrollo poro A'rpi, y tiene soporte de VSYNC por hardware
con triple buffering. Funciona tanto en consola con frambuffer como bajo X.
</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Aviso</h3><p>
¡Esto es solo en Linux! En sistemas no-Linux (probado en FreeBSD), puede
usar en su lugar <a href="devices.html#vidix" title="2.3.1.2.13. VIDIX">VIDIX</a>!
</p></div><div class="procedure"><a name="id2561756"></a><p class="title"><b>Instalación:</b></p><ol type="1"><li><p>
  Para usarlo, primero tendrá que compilar <tt class="filename">mga_vid.o</tt>:
  </p><pre class="screen">
cd drivers
make</pre><p>
  </p></li><li><p>
  Cree ahora el dispositivo <tt class="filename">/dev/mga_vid</tt>:
  </p><pre class="screen">mknod /dev/mga_vid c 178 0</pre><p>
  y cargue el controlador con
  </p><pre class="screen">insmod mga_vid.o</pre><p>
  </p></li><li><p>
  Deberá verificar la autodetección del tamaño de memoria
  usando la órden <span><strong class="command">dmesg</strong></span>. Si es incorrecta,
  use la opción <tt class="option">mga_ram_size</tt> (antes haga
  <span><strong class="command">rmmod mga_vid</strong></span>), especifique el tamaño
  de la memoria de la tarjeta gráfica en MB:
  </p><pre class="screen">insmod mga_vid.o mga_ram_size=16</pre><p>
  </p></li><li><p>
  Para que se cargue/descargue automáticamente cuando sea necesario,
  primero inserte la siguiente línea al final de
  <tt class="filename">/etc/modules.conf</tt>:
  
  </p><pre class="programlisting">alias char-major-178 mga_vid</pre><p>

  Después copie el módulo <tt class="filename">mga_vid.o</tt> al lugar
  apropiado bajo <tt class="filename">/lib/modules<em class="replaceable"><code>versión de
  kernel</code></em>/<em class="replaceable"><code>dondesea</code></em></tt>.
  </p><p>
  Y después ejecute
  </p><pre class="screen">depmod -a</pre><p>
  </p></li><li><p>
  Ahora deberá (re)compilar <span class="application">MPlayer</span>,
  <tt class="filename">./configure</tt> detectará 
  <tt class="filename">/dev/mga_vid</tt> y construirá el controlador 'mga'.
  Luego lo podrá usar con <span class="application">MPlayer</span> mediante
  <tt class="option">-vo mga</tt> si tiene una consola matroxfb, o
  <tt class="option">-vo xmga</tt> bajo XFree86 3.x.x ó 4.x.x.
  </p></li></ol></div><p>
El controlador mga_vid coopera con Xv.
</p><p>
El archivo de dispositivo <tt class="filename">/dev/mga_vid</tt> puede ser leído
para obtener informaión, por ejemplo mediante </p><pre class="screen">cat /dev/mga_vid</pre><p>
y puede se escrito para realizar cambios en el brillo:
</p><pre class="screen">echo "brightness=120" &gt; /dev/mga_vid</pre><p>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tdfxfb"></a>2.3.1.2.7. Soporte 3Dfx YUV</h5></div></div></div><p>
Este controlador usa el controlador framebuffer del kernel tdfx para
reproducir las películas con aceleración YUV. Necesita un kernel con
soporte tdfxfb, y recompilar con
</p><pre class="screen">./configure --enable-tdfxfb</pre><p>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="opengl"></a>2.3.1.2.8. Salida OpenGL</h5></div></div></div><p>
<span class="application">MPlayer</span> permite mostrar películas usando OpenGL,
pero si su plataforma/controlador soporta xv como es el caso en un PC con
Linux, usa xv en su lugar, el rendimiento en OpenGL es considerablemente
peor. Si tiene una implementación de X11 sin soporte para xv, OpenGL es una
alternativa viable.
</p><p>
Desafortunadamente no todos los controladores soportan esta característica.
Los controladores Utah-GLX (para XFree86 3.3.6) lo soportan para todas las
tarjetas.
Vea <a href="http://utah-glx.sourceforge.net" target="_top">http://utah-glx.sourceforge.net</a> para detalles sobre su
instalación.
</p><p>
XFree86(DRI) 4.0.3 o posterior soportan OpenGL con tarjetas Matrox y Radeon,
4.2.0 o posterior soportan Rage128.
Vea <a href="http://dri.sourceforge.net" target="_top">http://dri.sourceforge.net</a> para instrucciones de descarga
e instalación.
</p><p>
Un consejo de uno de nuestros usuarios: la salida de video GL puede usarse
para obtener salida de TV con sincronización vertical. Puede establecer
una variable de entorno (por lo menos con nVidia):
</p><p>
<span><strong class="command">export $__GL_SYNC_TO_VBLANK=1</strong></span>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="aalib"></a>2.3.1.2.9. AAlib - reproduciendo en modo texto</h5></div></div></div><p>
AAlib es una biblioteca para mostrar gráficos en modo texto, usando un
render ASCII potente. Hay <span class="emphasis"><em>montones</em></span> de programas que
tienen soporte para AAlib, como Doom, Quake, etc. 
<span class="application">MPlayer</span> contiene un controlador que funciona
bastante bien para ello. Si <tt class="filename">./configure</tt> detecta
que aalib está instalado, el controlador aalib libvo será compilado.
</p><p>
Puede usar algunas teclas en la ventana AA para cambiar las opciones
de renderizado:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Tecla</th><th>Acción</th></tr></thead><tbody><tr><td><span class="keycap"><b>1</b></span></td><td>
  reducir contraste
  </td></tr><tr><td><span class="keycap"><b>2</b></span></td><td>
  aumentar contraste
  </td></tr><tr><td><span class="keycap"><b>3</b></span></td><td>
  reducir brillo 
  </td></tr><tr><td><span class="keycap"><b>4</b></span></td><td>
  aumentar brillo
  </td></tr><tr><td><span class="keycap"><b>5</b></span></td><td>
  cambiar renderizado rápido activado/desactivado
  </td></tr><tr><td><span class="keycap"><b>6</b></span></td><td>
  establece el modo de difuminado (ninguno, distribución de error,
  Floyd Steinberg)
  </td></tr><tr><td><span class="keycap"><b>7</b></span></td><td>
  invierte la imagen
  </td></tr><tr><td><span class="keycap"><b>8</b></span></td><td>
  cambia entre control de aa y <span class="application">MPlayer</span>
  </td></tr></tbody></table></div><div class="variablelist"><p class="title"><b>Pueden usarse las siguientes opciones en la línea de órdenes:</b></p><dl><dt><span class="term"><tt class="option">-aaosdcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    cambia el color OSD 
    </p></dd><dt><span class="term"><tt class="option">-aasubcolor=<em class="replaceable"><code>V</code></em></tt></span></dt><dd><p>
    cambia el color de los subtítulos
    </p><p>
    donde <em class="replaceable"><code>V</code></em> puede ser:
    <code class="literal">0</code> (normal),
    <code class="literal">1</code> (oscuro),
    <code class="literal">2</code> (negrita),
    <code class="literal">3</code> (tipografía negrita),
    <code class="literal">4</code> (invertido),
    <code class="literal">5</code> (especial).
    </p></dd></dl></div><div class="variablelist"><p class="title"><b>AAlib provee por sí mismo una gran cantidad de opciones. Aquí están
algunas de las más importantes:</b></p><dl><dt><span class="term"><tt class="option">-aadriver</tt></span></dt><dd><p>
    establecer el controlador aa recomendado (X11, curses, Linux)
    </p></dd><dt><span class="term"><tt class="option">-aaextended</tt></span></dt><dd><p>
    usar los 256 caracteres
    </p></dd><dt><span class="term"><tt class="option">-aaeight</tt></span></dt><dd><p>
    usar ASCII de ocho bit
    </p></dd><dt><span class="term"><tt class="option">-aahelp</tt></span></dt><dd><p>
    muestra todas las opciones de aalib
    </p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
El renderizado hace un uso intensivo de la CPU, especialmente usando
AA-en-X (usando aalib bajo X), y hace un uso menos intenso de CPU en
una consola estándar, sin framebuffer. Use SVGATextMode para establecer
un modo texto grande, ¡y disfrútelo! (en las tarjetas Hercules con
pantalla secundaria queda muy bien :)) (pero en mi humilde opinión
puede usar la opción <tt class="option">-vf 1bpp</tt> para obtener gráficos
en hgafb :)
</p></div><p>
Use la opción <tt class="option">-framedrop</tt> si su ordenador no es lo
suficientemente rápido para renderizar todos los marcos!
</p><p>
Al reproducir en un terminal puede obtener mejor velocidad y calidad
usando el controlador Linux, en lugar del curses (<tt class="option">-aadriver linux</tt>).
Pero lo malo es que necesita permisos de escritura en
<tt class="filename">/dev/vcsa<em class="replaceable"><code>&lt;terminal&gt;</code></em></tt>!
Esto no es automáticamente detectado por aalib, pero vo_aa intenta encontrar
el mejor modo.
Vea <a href="http://aa-project.sourceforge.net/tune" target="_top">http://aa-project.sourceforge.net/tune</a> para más detalles
y ajustes.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="caca"></a>2.3.1.2.10. <code class="systemitem">libcaca</code> - Biblioteca de Arte AsCii
en color</h5></div></div></div><p>
La biblioteca <a href="http://sam.zoy.org/projects/libcaca/" target="_top"><code class="systemitem">libcaca</code></a>
es una biblioteca gráfica que tiene como salida texto en lugar de pixels, de modo
que funicona en cualquier tarjeta gráfica antigua o en terminales de texto.
No es como la famosa biblioteca <code class="systemitem">AAlib</code>.
<code class="systemitem">libcaca</code> necesita un terminal para funcionar,
esto es funciona en todo sistema Unix (incluyendo Mac OS X) usando bien la biblioteca
<code class="systemitem">slang</code> o bien la biblioteca
<code class="systemitem">ncurses</code>, en DOS usando la biblioteca
<code class="systemitem">conio.h</code>, y en sistemas Windows usando bien
<code class="systemitem">slang</code> o
<code class="systemitem">ncurses</code> (a través de emulación Cygwin) o
<code class="systemitem">conio.h</code>. Si <tt class="filename">./configure</tt>
detecta <code class="systemitem">libcaca</code>, el controlador de salida
caca libvo será construido.
</p><div class="itemizedlist"><p class="title"><b>Las diferencias con <code class="systemitem">AAlib</code> son las
siguientes:</b></p><ul type="disc"><li><p>
  16 colores disponibles para la salida de caracteres (256 pares de colores)
  </p></li><li><p>
  difuminado del color de la imagen
  </p></li></ul></div><div class="itemizedlist"><p class="title"><b>Pero <code class="systemitem">libcaca</code> también tiene las siguientes
limitaciones:</b></p><ul type="disc"><li><p>
  no soporta brillo, contraste, gamma
  </p></li></ul></div><p>
Puede usar algunas teclas en la ventana caca para cambiar opciones de renderizado:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Tecla</th><th>Acción</th></tr></thead><tbody><tr><td><span class="keycap"><b>d</b></span></td><td>
  Cambia los métodos de difuminado de <code class="systemitem">libcaca</code>.
  </td></tr><tr><td><span class="keycap"><b>a</b></span></td><td>
  Cambia el antialiasing en <code class="systemitem">libcaca</code>.
  </td></tr><tr><td><span class="keycap"><b>b</b></span></td><td>
  Cambia el fondo en <code class="systemitem">libcaca</code>.
  </td></tr></tbody></table></div><div class="variablelist"><p class="title"><b><code class="systemitem">libcaca</code> también mira algunas
variables de entorno:</b></p><dl><dt><span class="term"><tt class="option">CACA_DRIVER</tt></span></dt><dd><p>
    Establece el controlador caca recomendado, e.g. ncurses, slang, x11.
    </p></dd><dt><span class="term"><tt class="option">CACA_GEOMETRY (solo X11)</tt></span></dt><dd><p>
    Especifica el número de filas y columnas. e.g. 128x50.
    </p></dd><dt><span class="term"><tt class="option">CACA_FONT (solo X11)</tt></span></dt><dd><p>
    Especifica la tipografía a usar. e.g. fixed, nexus.
    </p></dd></dl></div><p>
Use la opción <tt class="option">-framedrop</tt> si su ordenador no es suficientemente
rápido para renderizar todos los marcos de imagen.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="vesa"></a>2.3.1.2.11. VESA - salida en VESA BIOS</h5></div></div></div><p>
Este controlador fue diseñado e introducido como un
<span class="bold"><strong>controlador genérico</strong></span> para cualquier tarjeta
gráfica que tenga una BIOS compatible con VESA VBE 2.0. Otra ventaja
de este controlador es que intenta forzar la activación de la salida
de TV.
<em class="citetitle">VESA BIOS EXTENSION (VBE) Version 3.0 Fecha: 16 de Septiembre,
1998</em> (Página 70) dice:
</p><div class="blockquote"><blockquote class="blockquote"><p><b>Diseños de controlador-dual. </b>
VBE 3.0 soporta el diseño de controlador-dual asumiendo que ambos controladores
norlmanmente son proporcionados por el mismo OEM, bajo el control de una ROM
BIOS única en la misma tarjeta gráfica, es posible esconder el hecho
de que hay dos controladores presentes para la aplicación. Esto tiene la
limitación de prevenir el uso simultáneo de controladores independientes,
pero permite a las aplicaciones que se hayan desarrollado antes de la liberación
de VBE 3.0 operar normalmente. La función VBE 00h (Devuelve Información sobre
el Controlador) devuelve información combinada de ambos controladores, incluyendo
una lista combinada de los modos disponibles. Cada una de las funciones VBE
restantes operan en el controlador activo.
</p></blockquote></div><p>
Por ello puede hacer que la salida-TV funcione usando este controlador.
(Yo creo que la salida-TV normalmente tiene una cabeza individual o
al menos una salida individual.)
</p><div class="itemizedlist"><p class="title"><b>VENTAJAS</b></p><ul type="disc" compact><li><p>
  Le permite ver sus películas <span class="bold"><strong>incluso si Linux no
  conoce</strong></span> su hardware de video.
  </p></li><li><p>
  No necesita tener instalado nada relacionado con gráficos en su Linux
  (como X11 (también conocido como XFree86), fbdev ni nada por el estilo).
  Este controlador puede funcionar en <span class="bold"><strong>modo-texto</strong></span>.
  </p></li><li><p>
  Puede hacer <span class="bold"><strong>funcionar la salida-TV</strong></span>.
  (Esto es conocido al menos para las tarjetas ATI).
  </p></li><li><p>
  Este controlador llama al manejador <code class="function">int 10h</code> y no
  realiza una emulación - hace llamas <span class="bold"><strong>reales</strong></span>
  de BIOS <span class="emphasis"><em>real</em></span> en <span class="emphasis"><em>modo-real</em></span>.
  (actualmente en modo vm86).
  </p></li><li><p>
  Puede usar VIDIX con él, obteniendo pantalla de gráficos acelerados
  <span class="bold"><strong>y</strong></span> salida TV al mismo tiempo!
  (Recomendado para tarjetas ATI.)
  </p></li><li><p>
  Si tiene VESA VBE 3.0+, y especifica
  <code class="systemitem">monitor-hfreq, monitor-vfreq, monitor-dotclock</code> en
  algún sitio (archivo de configuración, o línea de órdenes) podrá obtener
  la tasa de refresco mayor posible. (Usando la Fórmula de Temporización General).
  Para activar ésta característica debe especificar <span class="bold"><strong>todas</strong></span>
  las opciones de su monitor.
  </p></li></ul></div><div class="itemizedlist"><p class="title"><b>DESVENTAJAS</b></p><ul type="disc" compact><li><p>
  Solo funciona en <span class="bold"><strong>sistemas x86</strong></span>.
  </p></li><li><p>
  Solo puede ser usado por <code class="systemitem">root</code>.
  </p></li><li><p>
  En la actualidad solo está disponible para  <span class="bold"><strong>Linux</strong></span>.
  </p></li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>
No use este controlador con <span class="bold"><strong>GCC 2.96</strong></span>!
¡No funcionará!
</p></div><div class="variablelist"><p class="title"><b>OPCIONES EN LA LÍNEA DE ÓRDENES PARA VESA</b></p><dl><dt><span class="term"><tt class="option">-vo vesa:<em class="replaceable"><code>opts</code></em></tt></span></dt><dd><p>
    reconocidas actualmente: <code class="literal">dga</code> para forzar el modo dga
    y <code class="literal">nodga</code> para desactivar el modo dga. En modo dga puede
    activar doble buffering mediante la opción <tt class="option">-double</tt>. Nota:
    puede omitir estos parámetros activando
    <span class="bold"><strong>autodetección</strong></span> del modo dga.
    </p></dd></dl></div><div class="itemizedlist"><p class="title"><b>PROBLEMAS CONOCIDOS Y SUS SOLUCIONES</b></p><ul type="disc" compact><li><p>
  Si tiene instalada una tipografía <span class="bold"><strong>NLS</strong></span> en
  su equipo Linux y ejecuta el controlador VESA en modo-texto entonces después
  de terminar <span class="application">MPlayer</span> tendrá cargada una
  <span class="bold"><strong>tipografía ROM</strong></span> en lugar de la nacional.
  Puede cargar de nuevo la tipografía nacional usando la utilidad
  <span><strong class="command">setsysfont</strong></span> de la distribución Mandrake por ejemplo.
  (<span class="bold"><strong>Consejo</strong></span>: La misma utilidad se usa para
  la localización de fbdev).
  </p></li><li><p>
  Algunos <span class="bold"><strong>controladores gráficos para Linux</strong></span>
  no actualizan el <span class="bold"><strong>modo BIOS</strong></span> activo en la
  memoria DOS. Si tiene ese problema - use siempre el controlador VESA solo
  en <span class="bold"><strong>modo-texto</strong></span>. De otro modo
  el modo texto (#03) será activado de todas maneras y tendrá que reiniciar
  la computadora.
  </p></li><li><p>
  Además puede obtener una pantalla <span class="bold"><strong>negra</strong></span> cuando
  el controlador VESA termine. Para volver al estado original de la pantalla -
  símplemente cambie a otra consola (pulsando <span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F&lt;x&gt;</b></span>)
  y vuelva a la consola original del mismo modo.
  </p></li><li><p>
  Para  hacer que <span class="bold"><strong>funcione la salida-TV</strong></span> deberá
  tener conectado el conector de TV antes de iniciar el PC porque la BIOS de video
  lo inicia automáticamente durante el proceso POST.
  </p></li></ul></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="x11"></a>2.3.1.2.12. X11</h5></div></div></div><p>
Evite usarlo si es posible. La salida a X11 (usa la extensión de memoria
compartida), sin ninguna aceleración hardware. Soporta (acelerado por
MMX/3DNow/SSE, pero sigue siendo lento) escalado por software, use las
opciones <tt class="option">-fs -zoom</tt>. La mayoría de las tarjetas tienen
soporte de escalado por hardware, use la salida <tt class="option">-vo xv</tt>
para obtenerlo, o <tt class="option">-vo xmga</tt> para las Matrox.
</p><p>
El problema es que la mayoría de los controladores de las tarjetas no
soportan aceleración hardware en un monitor/TV secundario. En esos casos,
puede ver una ventana de color verde/azul en lugar de la película. Aquí es
donde entra en escena este controlador, pero necesitará una CPU potente
para escalar por software. No use el escalador+salida por software de SDL,
¡obtendrá una peor calidad de imagen!
</p><p>
El escalado por software es muy lento, mejor pruebe a cambiar el modo de video.
Es muy simple. Vea los <a href="devices.html#dga-modelines">la sección de modos de
DGA</a>, e insertela en su <tt class="filename">XF86Config</tt>.

</p><div class="itemizedlist"><ul type="disc" compact><li><p>
  Si tiene XFree86 4.x.x: use la opcioón <tt class="option">-vm</tt>. Esto cambiará
  a una resolución donde la película se ajuste. Si no lo hace:
  </p></li><li><p>
  Con XFree86 3.x.x: tiene que cambiar entre las resoluciones disponibles
  con las teclas
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>plus</b></span>
  y 
  <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>minus</b></span>.
  </p></li></ul></div><p>
</p><p>
Si no puede encontrar los modos que ha insertado, consule la salida de
XFree86. Algunos controladores no pueden usar pixelclocks bajos que son
necesarios para modos de video de baja resolución.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="vidix"></a>2.3.1.2.13. VIDIX</h5></div></div></div><p><b>PREÁMBULO. </b>
<acronym class="acronym">VIDIX</acronym> es la abreviatura para 
<span class="bold"><strong>VID</strong></span>eo<span class="bold"><strong>I</strong></span>nterface
para *ni<span class="bold"><strong>X</strong></span>.
VIDIX ha sido diseñado e introducido como una interfaz para los controladores de
espacio de usuario que proveen tanto rendimiento de video como mga_vid lo hace para
las tarjetas Matrox. También es muy portable.
</p><p>
Esta interfaz ha sido diseñada como un intento por ajustar las interfaces
de aceleración de video existentes (conocidas como mga_vid, rage128_vid, radeon_vid,
pm3_vid) en un esquema fijo. Provee una interfaz de alto nivel a los chips
que es conocida como BES (BackEnd scalers) u OV (Video Overlays). No provee
interfaz a bajo nivel de cosas conocidas por los servidores gráficos.
(No quiero competir con el equipo X11 en el cambio de modos de gráfidcos).
Es decir, el principal objetivo de esta interfaz es maximizar la velocidad
de la reproducción de video.
</p><div class="itemizedlist"><p class="title"><b>USO</b></p><ul type="disc" compact><li><p>
  Puede usar un controlador de salida de video individual:
  <tt class="option">-vo xvidix</tt>. Este controlador ha sido desarrollado como u
  front end de X11 a la tecnología VIDIX. Requiere un servidor X y puede funcionar
  solo bajo un servidor X. Note que, como accede directamente al hardware y
  no usa el controlador X, los mapas de pixels en caché en la memoria de la
  tarjeta gráfica pueden estar corruptos. Puede prevenir esto limitando la
  cantidad de memoria de video usada por X con la opción "VideoRam" de
  XF86Config en la sección device. Debe establecer el valor a la cantidad de
  memoria instalada en su tarjeta menos 4MB. Si tiene menos de 8MB de ram de
  video, puede usar la opción "XaaNoPixmapCache" en la sección screen en su lugar.
  </p></li><li><p>
  Hay un controlador de consola VIDIX: <tt class="option">-vo cvidix</tt>.
  Requiere un framebuffer inicializado y funcionando para muchas tarjetas (o
  fastidiará su pantalla), y obtendrá un efecto similar al que se obtiene con
  <tt class="option">-vo mga</tt> o <tt class="option">-vo fbdev</tt>. Las tarjetas nVidia, sin
  embargo, son capaces de mostrar gráficos reales de video sobre una consola
  de texto real. Vea la sección <a href="devices.html#vidix-nvidia" title="2.3.1.2.13.5. Tarjetas nVidia">nvidia_vid</a>
  para más información.
  </p></li><li><p>
  Puede usar el subdispositivo VIDIX aplicado a varios controladores de salida
  de video, tales como: <tt class="option">-vo vesa:vidix</tt>
  (<span class="bold"><strong>solo en Linux</strong></span>) y <tt class="option">-vo fbdev:vidix</tt>.
  </p></li></ul></div><p>
Como ve no impora qué controlador de salida de video se usa con
<span class="bold"><strong>VIDIX</strong></span>.
</p><div class="itemizedlist"><p class="title"><b>REQUISITOS</b></p><ul type="disc" compact><li><p>
  La tarjeta gráfica debe estar en modo gráfico (excepto las tarjetas nVidia
  con el controlador de salida <tt class="option">-vo cvidix</tt>.
  </p></li><li><p>
  El controlador de salida de video de <span class="application">MPlayer</span> debe
  conocer el modo de video activo y ser capaz de decir al subdispositivo
  VIDIX algunas características de video del servidor.
  </p></li></ul></div><p><b>MODOS DE USO. </b>
Cuando VIDIX se usa como <span class="bold"><strong>subdispositivo</strong></span>
(<tt class="option">-vo vesa:vidix</tt>) entonces la configuración del modo de video
es hecha por el dispositivo de salida de video (<span class="bold"><strong>vo_server</strong></span>
en pocas palabras). Por ese motivo puede pasar en la línea de órdenes de
<span class="application">MPlayer</span> las mismas teclas que para vo_server.
Además entiende <tt class="option">-double</tt> como un parámetro visible globalmente.
(Recomiendo usar esto con VIDIX por lo menos en tarjetas ATI). Como para
<tt class="option">-vo xvidix</tt>, actualmente reconoce las siguientes opciones:
<tt class="option">-fs -zoom -x -y -double</tt>.
</p><p>
También puede especificar el controlador VIDIX directamente con un  tercer
argumento en la línea de órdenes:

</p><pre class="screen">mplayer -vo xvidix:mga_vid.so -fs -zoom -double <em class="replaceable"><code>archivo.avi</code></em></pre><p>
o
</p><pre class="screen">mplayer -vo vesa:vidix:radeon_vid.so -fs -zoom -double -bpp 32 <em class="replaceable"><code>archivo.avi</code></em></pre><p>

Pero esto es peligroso, y no debería hacerlo. En ese caso el controlador
se ve forzado y el resultado puede ser impredicible (puede incluso
<span class="bold"><strong>dejar colgado</strong></span> su ordenador). Debe hacerlo
SOLO si está absolutamente seguro de que funciona, y
<span class="application">MPlayer</span> no lo hace automáticamente. Por favor
en ese caso dígaselo a los desarrolladores. La manera correcta de usar VIDIX es
sin argumentos para activar la autodetección del controlador.
</p><p>
VIDIX es una tecnología nueva y es extremadamente posible que en su
sistema no funcione. En ese caso la única solución para usted es
portarlo (principalmente con libdha). Pero se supone que debe de funcionar
en los sistemas en los que funciona X11.
</p><p>
Debido a que VIDIX requiere acceso directo al hardware puede ejecutarlo
como root o establecer el bit SUID en el binario de
<span class="application">MPlayer</span> (<span class="bold"><strong>Advertencia:
¡eso es un riesgo de seguridad!</strong></span>). De manera alternativa,
puede usar un módulo especial del kernel, como esto:
</p><div class="procedure"><ol type="1"><li><p>
  Descargue la <a href="http://www.arava.co.il/matan/svgalib/" target="_top">versión de desarrollo</a>
  de svgalib (por ejemplo 1.9.17), <span class="bold"><strong>O</strong></span>
  descargue una versión hecha por Alex especialmente para usar con
  <span class="application">MPlayer</span> (no necesita el código fuente de svgalib para
  compilar) desde
  <a href="http://www.mplayerhq.hu/~alex/svgalib_helper-1.9.17-mplayer.tar.bz2" target="_top">aquí</a>.
  </p></li><li><p>
  Compile el módulo en el directorio <tt class="filename">svgalib_helper</tt>
  (puede encontrarse dentro del directorio
  <tt class="filename">svgalib-1.9.17/kernel/</tt> si ha descargado el
  código fuente del sitio de svgalib) e insmodéelo.
  </p></li><li><p>
  Para crear los dispositivos necesarios en el directorio
  <tt class="filename">/dev</tt>, haga un </p><pre class="screen">make device</pre><p>
  en el directorio <tt class="filename">svgalib_helper</tt> como root.
  </p></li><li><p>
  Mueva el directorio <tt class="filename">svgalib_helper</tt> a
  <tt class="filename">mplayer/main/libdha/svgalib_helper</tt>.
  </p></li><li><p>
  Requerido si descarga el código fuente desde el sitio de svgalib: Borre el comentario
  antes de la línea CFLAGS que contiene la cadena "svgalib_helper" en
  <tt class="filename">libdha/Makefile</tt>.
  </p></li><li><p>
  Recompile e instale libdha.
  </p></li></ol></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-ati"></a>2.3.1.2.13.1. Tarjetas ATI</h6></div></div></div><p>
Actualmente la mayoría de las tarjetas ATI están soportadas de manera nativa,
desde la Mach64 hasta las más nuevas Radeons.
</p><p>
Hay dos binarios compilados: <tt class="filename">radeon_vid</tt> para Radeon y
<tt class="filename">rage128_vid</tt> para tarjetas Rage 128. Puede forzar uno
o dejar que el sistema VIDIX pruebe automáticamente todos los controladores
disponibles.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-mga"></a>2.3.1.2.13.2. Tarjetas Matrox</h6></div></div></div><p>
Hemos sido informados de que funcionan Matrox G200, G400, G450 y G550.
</p><p>
El controlador soporta ecualizadores de video y debe ser casi tan rápido como el
<a href="devices.html#mga_vid" title="2.3.1.2.6. Framebuffer de Matrox (mga_vid)">Matrox framebuffer</a>
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-trident"></a>2.3.1.2.13.3. Tarjetas Trident</h6></div></div></div><p>
Hay un controlador disponible para los chipset Trident Ciberblade/i1, que
puede ser encontrado en las placas base VIA Epia.
</p><p>
El controlador ha sido escrito y es mantenido por, 
<a href="http://www.blackfiveservices.co.uk/EPIAVidix.shtml" target="_top">Alastair M.
Robinson</a>.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-3dlabs"></a>2.3.1.2.13.4. Tarjetas 3DLabs</h6></div></div></div><p>
Aunque hay un controlador para los chips 3DLabs GLINT R3 y Permedia3, ninguno
ha sido probado, así que cualquier comentario o informe será bienvenido.
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-nvidia"></a>2.3.1.2.13.5. Tarjetas nVidia</h6></div></div></div><p>
Hay controladores para nVidia relativamente recientes, se sabe que funcionan bien
con los chipset Riva 128, TNT y GeForce2, también se nos ha informado de que funciona
con otros.
</p><div class="itemizedlist"><p class="title"><b>LIMITACIONES</b></p><ul type="disc" compact><li><p>
  Es recomendable usar los controladores binarios de nVidia para X antes de usar el
  controlador VIDIX, porque algunos de los registros que es necesario inicializar
  aún no han sido descubiertos, por lo que probablemente falle con el controlador
  de Código Abierto de XFree86 <tt class="filename">nv.o</tt>.
  </p></li><li><p>
  Actualmente solo los codecs que tienen salida en el espacio de color UYVY son los
  que funcionan junto con este controlador. Desafortunadamente, esto excluye
  todo decodificador simple de la familia <code class="systemitem">libavcodec</code>.
  Esto nos deja con los siguientes codecs populares usables:
  <code class="systemitem">cvid, divxds, xvid, divx4, wmv7, wmv8</code> y algunos otros.
  Por favor tenga en cuenta que esto es solo algo temporal.
  La sintaxis de uso es la siguiente:
  </p><pre class="screen">
    mplayer -vf format=uyvy -vc divxds <em class="replaceable"><code>archivodivx3.avi</code></em>
  </pre><p>
  </p></li></ul></div><p>
  Una característica única del controlador nvidia_vid es la habilidad de mostrar
  video en <span class="bold"><strong>una consola de texto solo, plano y puro</strong></span>
  - sin framebuffer o X magic ni nada. Para conseguir esto, se ha de usar la
  salida de video <tt class="option">cvidix</tt>, como muestra el siguiente ejemplo:
  </p><pre class="screen">
    mplayer -vf format=uyvy -vc divxds -vo cvidix ejemplo.avi
  </pre><p>
</p><p>
¡Esperamos que nos informe!
</p></div><div class="sect5" lang="es"><div class="titlepage"><div><div><h6 class="title"><a name="vidix-sis"></a>2.3.1.2.13.6. Tarjetas SiS</h6></div></div></div><p>
Se trata de un código muy experimental, al igual que el nvidia_vid.
</p><p>
Ha sido probado en SiS 650/651/740 (los chipset más comunes usados en las versiones
SiS de las placas base "Shuttle XPC")
</p><p>
¡Esperamos que nos informe!
</p></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="directfb"></a>2.3.1.2.14. DirectFB</h5></div></div></div><div class="blockquote"><blockquote class="blockquote"><p>
"DirectFB es una biblioteca de gráficos que ha sido diseñada
con los sistemas embebidos en mente. Ofrece el máximo rendimientdo en
aceleración hardware con el mínimo uso de recursos y sobrecarga." -
cita de <a href="http://www.directfb.org" target="_top">http://www.directfb.org</a>
</p></blockquote></div><p>No incluiré las características de DirectFB en esta sección.</p><p>
Aunque <span class="application">MPlayer</span> no está reconocido como un "proveedor
de video" en DirectFB, este controlador de salida debe activar la reproducción
de video a través del DirectFB. Tiene - por supuesto - aceleración, en mi Matrox
G400 la velocidad para DirectFB es la misma que con XVideo.
</p><p>
Intente usar siempre la versión más reciente de DirectFB. Puede usar las opciones
de DirectFB en la línea de órdenes, usando la opción <tt class="option">-dfbopts</tt>.
La capa de selección puede hacerse con el método de subdispositivo, p.e.:
<tt class="option">-vo directfb:2</tt> (la capa -1 se usa por defecto: autodetectado)
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="dfbmga"></a>2.3.1.2.15. DirectFB/Matrox (dfbmga)</h5></div></div></div><p>
Lea por favor la sección <a href="devices.html#directfb" title="2.3.1.2.14. DirectFB">principal de DirectFB</a> para 
información general.
</p><p>
Este controlador de salida de video activa CRTC2 (en un segundo monitor) en la
tarjeta G400/G450/G550, mostrando video <span class="bold"><strong>independiente</strong></span>
en el monitor principal.
</p><p>
Ville Syrjala tiene un 
<a href="http://www.sci.fi/~syrjala/directfb/Matrox_TV-out_README.txt" target="_top">LEAME</a>
y un
<a href="http://www.sci.fi/~syrjala/directfb/matrox_tv-out_howto" target="_top">COMO</a>
en su página web que explica cómo sacar salida de TV con DirectFB en tarjetas
Matrox.
</p><div class="variablelist"><p class="title"><b>USO</b></p><dl><dt><span class="term"><tt class="option">(no)bes</tt></span></dt><dd><p>activa el uso de Matrox BES (backend scaler).
Da resultados muy buenos en cuanto a velocidad y calidad de salida como procesado
de imágenes interpoladas por hardware. Funciona solo en la salida primaria.
Por defecto: desactivado</p></dd><dt><span class="term"><tt class="option">(no)spic</tt></span></dt><dd><p>hace uso de la capa de sub imagen para mostrar el OSD de
<span class="application">MPlayer</span>.
Por defecto: activado</p></dd><dt><span class="term"><tt class="option">(no)crtc2</tt></span></dt><dd><p>activa la salida TV en la segunda salida. La calidad de la salida
es sorprendente ya que da una imagen completamente entrelazada con sincronización
correcta en cada campo par/impar. Por defecto: activada</p></dd><dt><span class="term"><tt class="option">(no)input</tt></span></dt><dd><p>usa el código de teclado de DirectFB en lugar del código de
teclado normal de <span class="application">MPlayer</span>. Por defecto:
desactivado</p></dd><dt><span class="term"><tt class="option">buffermode=single|double|triple</tt></span></dt><dd><p>Doble y triple buffer da mejores resultados si quiere evitar problemas
de desgarramientos de imagen. Triple buffer es más eficiente que el doble buffer ya que no
bloquea <span class="application">MPlayer</span> mientras que espera al refresco vertical.
El buffer simple debe evitarse. Por defecto: triple</p></dd><dt><span class="term"><tt class="option">fieldparity=top|bottom</tt></span></dt><dd><p>controla el orden de salida de los marcos de imagen entrelazados.
Valores válidos son top = campos superiores primero, bottom = campos inferiores primero.
Esta opción no tiene efecto en material de película progresivo como lo son las
películas MPEG. Necesitará activar esta opción si tiene problema de desgarros de imagen
o movimiento no suave mientras ve material entrelazado. (Buenos ejemplos de material
filmográfico entrelazado en DVD son Star Trek Enterprise y Star Trek DS9)
Por defecto: desactivado (no establecido)</p></dd><dt><span class="term"><tt class="option">tvnorm=pal|ntsc|auto</tt></span></dt><dd><p>establece la norma de TV en las tarjetas Matrox sin la necesidad
de modificar /etc/directfbrc. Normas válidas son pal = PAL, ntsc = NTSC.
Una norma especial es auto (auto-ajuste usando PAL/NTSC) porque decide
qué norma usar mirando la tasa de imágenes por segundo de la película.
Por defecto: desactivado (no establecido)</p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La primera versión de DirectFB que hace que esto funcione fue 0.9.17 (tiene fallos,
necesita el parche <code class="systemitem">surfacemanager</code> de la URL de más arriba).
De todos modos se está trabajando para portar el código de CRTC2 a
<span class="bold"><strong>mga_vid</strong></span>.
</p></div></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="mpeg_decoders"></a>2.3.1.3. Decodificadores MPEG</h4></div></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="dvb"></a>2.3.1.3.1. DVB salida y entrada</h5></div></div></div><p>
<span class="application">MPlayer</span> soporta tarjetas con el chipset Siemens DVB
de vendedores como Siemens, Technotrend, Galaxis o Hauppauge. Los últimos
controladores DVB están disponibles en
<a href="http://www.linuxtv.org" target="_top">el sitio de Linux TV</a>. Si quiere hacer
transcoding de software deberá usar al menos una CPU de 1GHz.
</p><p>
<tt class="filename">configure</tt>debe detectar su tarjeta DVB. Si no lo hace,
fuerce la detección con
</p><pre class="screen">./configure --enable-dvb</pre><p>Si tiene cabeceras ost en una ruta no estándar, establezca la ruta con</p><pre class="screen">./configure --with-extraincdir=<em class="replaceable"><code>directorio de fuentes de DVB</code></em>/ost/include
</pre><p>Y luego compile e instale del modo habitual.</p><p><b>USO. </b>
Decodificación por hardware (reproducción de archivos estándar MPEG1/2) puede hacerse
con esta órden:
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes <em class="replaceable"><code>archivo.mpg|vob</code></em></pre><p>
Decodificación software o transcoding de formatos diferentes a MPEG1 puede hacerse
usando una órden como esta:
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes <em class="replaceable"><code>suarchivo.ext</code></em>
mplayer -ao mpegpes -vo mpegpes -vf expand <em class="replaceable"><code>yourfile.ext</code></em>
</pre><p>
Tenga en cuenta que las tarjetas DVB solo soportan altugas de 288 y 576 para PAL o
240 y 480 para NTSC. Usted <span class="bold"><strong>debe</strong></span> escalar para
otras alturas añadiendo <tt class="option">scale=ancho:alto</tt> con el ancho y el alto
que quiera para la opción <tt class="option">-vf</tt>. Las tarjetas DVB aceptan varios
anchos, como 720, 704, 640, 512, 480, 352 etc y hacen el escalado por hardware
en dirección horizontal, de modo que no necesita escalar horizontalmente en
la mayoría de los casos. Para un DivX de 512x384 (aspecto 4:3) pruebe:
</p><pre class="screen">mplayer -ao mpegpes -vo mpegpes -vf scale=512:576</pre><p>Si tiene una película widescreen y no quiere escalar a altura completa,
puede usar el filtro <tt class="option">expand=w:h</tt> para añadir bandas negras.
Para ver un DivX de 640x384, pruebe:
</p><p>
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf expand=640:576 <em class="replaceable"><code>archivo.avi</code></em>
</pre><p>
</p><p>Si su CPU es demasiado lenta para un DivX de tamaño completo de 720x576,
pruebe a subescalar:</p><p>
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf scale=352:576 <em class="replaceable"><code>archivo.avi</code></em>
</pre><p>
</p><p>Si la velocidad no mejora, pruebe a subescalar verticalmente, también:</p><p>
</p><pre class="screen">
mplayer -ao mpegpes -vo mpegpes -vf scale=352:288 <em class="replaceable"><code>archivo.avi</code></em>
</pre><p>
</p><p>
For OSD and subtitles use the OSD feature of the expand filter. So, instead of
Para OSD y subtítulos use la característica OSD del filtro expand. Para ello, en lugar de
<tt class="option">expand=w:h</tt> o <tt class="option">expand=w:h:x:y</tt>, use
<tt class="option">expand=w:h:x:y:1</tt> (el 5º parámetro <tt class="option">:1</tt>
al final habilitará el renderizado OSD). Puede que quiera mover la imagen hacia arriba
un poco para obtener una zona negra más grande para los subtítulos. También puede mover
los subtítulos hacia arriba, si quedan fuera de la pantalla de TV, use la
opción <tt class="option">-subpos &lt;0-100&gt;</tt> para ajustar esto (<tt class="option">-subpos 80</tt>)
es una buena elección).
</p><p>
Para reproducir películas que no sean de 25fps en una TV PAL o con una CPU lenta,
añada la opción <tt class="option">-framedrop</tt>.
</p><p>
Para mantener la razón de aspecto de los archivos DivX y obtener los
parámtros óptimos de escalado (escalado horizontal por hardware y
escalado vertical por software manteniendo la razón de aspecto correcta),
use el filtro dvbscale:
</p><pre class="screen">
para una TV 4:3: -vf dvbscale,scale=-1:0,expand=-1:576:-1:-1:1
para una TV 16:9: -vf dvbscale=1024,scale=-1:0,expand=-1:576:-1:-1:1
</pre><p><b>TV Digital (módulo de entrada DVB). </b>Puede usar su tarjeta DVB para ver TV Digital.</p><p>
  Tiene que tener los programas <span><strong class="command">scan</strong></span> y
  <span><strong class="command">szap/tzap/czap</strong></span> intalados; estos están incluidos
  en el paquete de controladores.
</p><p>
  Verifique que sus controladores están funcionando correctamente con un
  programa como
  <a href="http://www.sf.net/projects/dvbtools/" target="_top"><span><strong class="command">dvbstream</strong></span></a>
  (que es la base del módulo de entrada DVB).
</p><p>
  Ahora debe compilar un archivo <tt class="filename">~/.mplayer/channels.conf</tt>,
  con la sintaxis aceptada por <span><strong class="command">szap/tzap/czap</strong></span>, o tener
  <span><strong class="command">scan</strong></span> compilado por usted mismo.
</p><p>
  Si tiene más de un tipo de tarjeta (e.g. Satélite, Terrestre y Cable)
  puede guardar sus archivos de canales como
  <tt class="filename">~/.mplayer/channels.conf.sat</tt>,
  <tt class="filename">~/.mplayer/channels.conf.ter</tt>
  y <tt class="filename">~/.mplayer/channels.conf.cbl</tt>,
  respectivamente, de ese modo se indica implícitamente a
  <span class="application">MPlayer</span> que uso esos archivos en lugar de
  <tt class="filename">~/.mplayer/channels.conf</tt>,
  y solo tiene que especificar qué tarjeta usar.
</p><p>
  Asegúrese de que tiene <span class="emphasis"><em>solo</em></span> canales Free to Air en su
  archivo <tt class="filename">channels.conf</tt>, o <span class="application">MPlayer</span>
  intentará saltar al siguiente visible, pero puede tardar mucho si hay varios
  canales consecutivos encriptados.
</p><p>
  Para mostrar el primero de los canales presentes en su lista, ejecute
</p><pre class="screen">
  mplayer dvb://
</pre><p>
  Si quiere ver un canal específico, tal como R1, ejecute
</p><pre class="screen">
  mplayer dvb://R1
</pre><p>
  Para cambiar canales pulse la teclas <span class="keycap"><b>h</b></span> (siguiente) y
  <span class="keycap"><b>k</b></span> (previo), o use el menú OSD (requiere un
  <a href="subosd.html" title="1.4. Subtítulos y OSD">subsistema OSD</a> funcionando).
</p><p>
  Si su <tt class="filename">~/.mplayer/menu.conf</tt> contiene una entrada
  <code class="literal">&lt;dvbsel&gt;</code>, como una del archivo de ejemplo
  <tt class="filename">etc/dvb-menu.conf</tt> (el cual puede usar para
  sobreescribir <tt class="filename">~/.mplayer/menu.conf</tt>),el menú
  principal mostrará una entrada de un submenú que le permitirá elegir
  uno de los canales presentes en su <tt class="filename">channels.conf</tt>.
</p><p>
  Si quiere grabar un programa en disco puede usar
</p><pre class="screen">
  mplayer -dumpfile r1.ts -dumpstream dvb://R1
</pre><p>
  si quiere grabar en un formato diferente (re-codificando) en su lugar
  puede usar una órden como
</p><pre class="screen">
  mencoder -o r1.avi -ovc xvid -xvidencopts bitrate=800 -oac mp3lame -lameopts cbr:br=128 -pp=ci dvb://R1
</pre><p>
  Lea la página de manual para una lista de opciones que puede pasar al módulo
  de entrada de DVB.
</p><p><b>FUTURO. </b>
Si tiene alguna pregunta o desea oir anuncios sobre características futuas
y tomar parte en discusiones acerca de estos asuntos, únase a nuestra lista
de correo
<a href="http://mplayerhq.hu/mailman/listinfo/mplayer-dvb" target="_top">MPlayer-DVB</a>
Por favor, recuerde que el idioma en la lista de correo es el Inglés.
</p><p>
En el futuro puede esperar la habilidad de mostrar OSD y subtítulos usando
las características nativas de OSD de las tarjetas DVB, así como una
reproducción más fluida de películas que no estén a 25fps y transcoding en
tiempo real entre MPEG2 y MPEG4 (descompresión parcial).
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="dxr2"></a>2.3.1.3.2. DXR2</h5></div></div></div><p><span class="application">MPlayer</span> soporta reproducción acelerada por
hardware con la tarjeta Creative DXR2.</p><p>
Lo primero que necesita tener es los controladores DRX2 correctamente instalados. Puede
encontrar estos controladores e instrucciones para su instalación en el sitio
<a href="http://dxr2.sourceforge.net/" target="_top">DXR2 Resource Center</a>.
</p><div class="variablelist"><p class="title"><b>USO</b></p><dl><dt><span class="term"><tt class="option">-vo dxr2</tt></span></dt><dd><p>activa la salida TV</p></dd><dt><span class="term"><tt class="option">-vo dxr2:x11</tt> o <tt class="option">-vo dxr2:xv</tt></span></dt><dd><p>activa la salida Overlay en X11</p></dd><dt><span class="term"><tt class="option">-dxr2 &lt;opción1:opción2:...&gt;</tt></span></dt><dd><p>Esta opción se usa para manejar el controlador DXR2.</p></dd></dl></div><p>
El chipset de overlay usado en DXR2 tiene una calidad bastante mala pero
la configuración por defecto debe funcionar para todo el mundo. El OSD puede
ser usable con overlay (no en una TV) dibujando sobre el colorkey. Con la
configuración de colorkey por defecto puede obtener resultados variables, normalmente
verá el colorkey alrededor de los caracteres o algún otro efecto divertido. Pero
si ajusta bien la configuración del colorkey debe ser capaz de obtener resultados
aceptables.
</p><p>Por favor, vea la página de manual para ver las opciones disponibles.</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="dxr3"></a>2.3.1.3.3. DXR3/Hollywood+</h5></div></div></div><p>
<span class="application">MPlayer</span> soporta reproducción acelerada por hardware
con las tarjetas Creative DXR3 y Sigma Designs Hollywood. Ambas tarjetas usan
el chip decodificador em8300 MPEG de Sigma Designs.
</p><p>
Lo primero que necesita es tener el controlador DXR3/H+ correctamente instalado,
versión 0.12.0 o posterior. Puede encontrar estos controladores e instrucciones
para su instalación en el sitio
<a href="http://dxr3.sourceforge.net/" target="_top">DXR3 &amp; Hollywood Plus para Linux</a>.
<tt class="filename">configure</tt> debe detectar su tarjeta automáticamente, y la compilación
debe funcionar sin problemas.
</p><div class="variablelist"><p class="title"><b>USO</b></p><dl><dt><span class="term"><tt class="option">-vo dxr3:prebuf:sync:norm=x:<em class="replaceable"><code>dispositivo</code></em></tt></span></dt><dd><p>
<tt class="option">overlay</tt> activa overlay en lugar de TVOut. Requiere que tenga
una configuración de overlay que funcione correctamente. La manera facil de
configurar el overlay es iniciar primero autocal. Después ejecute
<span class="application">MPlayer</span> con salida dxr3 y sin overlay, ejecute
dxr3view. En dxr3view puede tocar la configuración de overlay y ver los
efectos en tiempo real, quizá esta característica esté soportada en el GUI de
<span class="application">MPlayer</span> en el futuro. Cuando overlay está
correctamente configurado ya no necesitará usar más dxr3view.
<tt class="option">prebuf</tt> activa el prebuffering. Prebuffering es una
característica del chip em8300 que se activa para mantener más de un marco
por video al mismo tiempo. Esto significa que cuando está ejecutando con
prebufferint <span class="application">MPlayer</span> intentará mantener lleno
el buffer de video con datos todo el tiempo. Si está en una máquina lenta
<span class="application">MPlayer</span> probablemente usa un valor cercano a,
o totalmente de 100% de CPU. Esto ocurre normalemente si reproduce flujos
MPEG (como DVDs, SVCDs a.s.o.) ya que <span class="application">MPlayer</span> no
tiene recodificador a MPEG y llena el buffer muy rápido.
Con reproducción de video con prebufferint es <span class="bold"><strong>
mucho</strong></span> menos sensible a otros programas que quieran uso de CPU,
no elimina marcos a menos que alguna aplicación aproveche la CPU un largo
periodo de tiempo. Cuando ejecuta sin prebuffering el em8300 es mucho más
sensible a cargar la CPU, por lo que le sugerimos que active en
<span class="application">MPlayer</span> la opción <tt class="option">-framedrop</tt>
para evitar posibles pérdidas de sincronización.
<tt class="option">sync</tt> activa el nuevo motor de sincronización. Esta es
actualmente una característica experimental. Con la característica de
sincronización activada en el reloj interno de em8300 se monitoriza todas
las veces, si comienza a desviarse del reloj de
<span class="application">MPlayer</span> es puesto a cero causando que em8300
se salte algunos marcos que están comenzando a tener retardo.
<tt class="option">norm=x</tt> establece la norma de TV de la tarjeta DXR3 sin la
necesidad de herramientas externas como em8300setup. Normas válidas son
5 = NTSC, 4 = PAL-60, 3 = PAL. Normas especiales son 2 (auto-ajuste usando
PAL/PAL-60) y 1 (auto-ajuste usando PAL/NTSC) porque deciden qué norma usar
consultando la tasa de imágenes por segundo de la película. norm = 0 (por
defecto) no cambia la norma actual.
<tt class="option"><em class="replaceable"><code>dispositivo</code></em></tt> = número de dispositivo
a usar si tiene más de una tarjeta em8300.
Cualquiera de esas opciones se pueden dejar sin especificar.
<tt class="option">:prebuf:sync</tt> parece que se obtiene un mejor funcionamiento cuando
se reproducen películas DivX. La gente ha informado sobre problemas usando la
opción prebuf mientras se reproducían archivos MPEG1/2. Puede que desee intentar
la reproducción sin ninguna opción primero, y si tiene problemas de sincronía,
o problemas con los subtítulos, probar con la opción <tt class="option">:sync</tt>.
</p></dd><dt><span class="term"><tt class="option">-ao oss:/dev/em8300_ma-<em class="replaceable"><code>X</code></em></tt></span></dt><dd><p>
Para la salida de audio, donde <em class="replaceable"><code>X</code></em> es el número de dispositivo
(0 si hay una tarjeta).
</p></dd><dt><span class="term"><tt class="option">-aop list=resample:fout=<em class="replaceable"><code>xxxxx</code></em></tt></span></dt><dd><p>
El em8300 no puede reproducir tasas de muestreo menores de 44100Hz. Si la tasa
de muestreo es mejor que 44100Hz elija 44100Hz o 48000Hz dependiendo de cual
se ajuste mejor. P.e. si la pelíula usa 22050Hz use 44100Hz ya que
44100 / 2 = 22050, si es 24000Hz use 48000Hz porque 48000 / 2 = 24000 y de ese
modo con cualquier valor que tenga. Esto no funciona con salida de audio
digital (<tt class="option">-ac hwac3</tt>).
</p></dd><dt><span class="term"><tt class="option">-vf lavc/fame</tt></span></dt><dd><p>
Para ver contenido no-MPEG en el em8300 (p.e. DivX o RealVideo) deberá especificar
un filtro de video MPEG1 como <code class="systemitem">libavcodec</code>
(lavc) o libfame (fame).
Actualmente lavc es más rápido y da mejor calidad de imagen, por lo que le sugerimos que lo
use a menos que tenga algún problema con él. Vea la página de manual para más
información acerca de <tt class="option">-vf lavc/fame</tt>.
El uso de lavc es altamente recomendado. Actualmente no hay manera de establecer
los fps del em8300 lo que significa que son fijos a 29.97fps. Debido a esto es
altamente recomendable que use <tt class="option">-vf lavc=<em class="replaceable"><code>quality</code></em>:25</tt>
especialmente si está usando prebuffering. ¿Y por qué 25 y no 29.97? bien, el motivo
es que cuando usa 29.97 la imagen se vuelve un poco saltarina. La razón de por qué
ocurre esto no la conocemos. Si establece un valor entre 25 y 27 la imagen se vuelve
estable. Por ahora todo lo que puede haer es aceptar esto sin preguntarse por qué.
</p></dd><dt><span class="term"><tt class="option">-vf expand=-1:-1:-1:-1:1</tt></span></dt><dd><p>
A pesar de que el controlador DXR3 puede poner OSD en el video MPEG1/2/4, tiene
una calidad mucho peor que el tradicional OSD de <span class="application">MPlayer</span>,
además de varios problemas de refresco. La línea de órdenes de arriba convertirá
primero la entrada de video a MPEG4 (esto es obligatorio, lo siento), y después
aplicará un filtro de expansión que no expandirá nada (-1: por defecto), pero
servirá para aplicar OSD normal sobre la imagen (esto es lo que hace el "1" del
final).
</p></dd><dt><span class="term"><tt class="option">-ac hwac3</tt></span></dt><dd><p>
El em8300 permite la reproducción de audio AC3 (sonido surround) a través de
la salida de audio digital de la tarjeta. Vea la opción <tt class="option">-ao oss</tt>
de más arriba, debe usarse para especificar salida DXR3 en lugar de una tarjeta
de sonido.
</p></dd></dl></div></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="other"></a>2.3.1.4. Otro hardware de visualización</h4></div></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="zr"></a>2.3.1.4.1. Zr</h5></div></div></div><p>
Se trata de un controlador de pantalla (<tt class="option">-vo zr</tt>) para un número
de tarjetas de captura/reproducción de MJPEG (probado con DC10+ y Buz, y también
debe funcionar con LML33, el DC10). El controlador funciona codificando el marco
a JPEG y enviándolo luego a la tarjeta. Para la codificación JPEG se usa
<code class="systemitem">libavcodec</code>, y además es obligatorio usarlo. Con el modo
especial <span class="emphasis"><em>cinerama</em></span>, puede ver películas en wide screen real
suponiendo que tiene dos proyectores y dos tarjetas MJPEG. Dependiendo de la
configuración de resolución y calidad, este controlador puede requerir una gran
cantidad de potencia de CPU, recuerde especificar <tt class="option">-framedrop</tt>
si su máquina es demasiado lenta. Nota: Mi AMD K6-2 350MHz es (con
<tt class="option">-framedrop</tt>) bastante adecuada para reproducir material del
tamaño de VCD y escalar a menor tamaño del original las películas.
</p><p>
Este controlador se comunica con el controlador del kernel disponible en
<a href="http://mjpeg.sourceforge.net" target="_top">http://mjpeg.sourceforge.net</a>, por eso
antes de nada deberá tener este funcionando. La presencia de una tarjeta MJPEG 
es autodetectada por el script <tt class="filename">configure</tt>, si la autodetección
falla, fuércela con 
</p><pre class="screen">./configure --enable-zr</pre><p>
</p><p>
La salida puede ser controlada con varias opciones, una descripción larga
de las opciones puede encontrarse en la página de manual, una lista corta de
las opciones puede verse ejecutando
</p><pre class="screen">mplayer -zrhelp</pre><p>
</p><p>
Piense que el escalado y el OSD (información en pantalla) no son manejados
por este controlador pero pueden hacerse usando filtros de video. Por ejemplo,
suponta que tiene una película con una resolución de 512x272 y desea verla
en pantalla completa con su DC10+. Hay tres posibilidades principalmente, puede
escalar la película a un ancho de 768, 384 o 192. Por motivos de rendimiento
y calidad, puede que quiera elegir escalar la película a 384x204 usando el
escalador por software rápido bilineal. La línea de órdenes es
</p><pre class="screen">mplayer -vo zr -sws 0 -vf scale=384:204 <em class="replaceable"><code>película.avi</code></em></pre><p>
</p><p>
Se puede recortar con el filtro <tt class="option">crop</tt> y también
por este controlador directamente. Supongamos que tenemos una película que
es demasiado ancha para mostrarla en su Buz y que quiere usar <tt class="option">-zrcrop</tt>
para hacer la película menos ancha, entonces puede que le sea útil la siguiente
órden
</p><pre class="screen">mplayer -vo zr -zrcrop 720x320+80+0 <em class="replaceable"><code>benhur.avi</code></em></pre><p>
</p><p>
si quiere usar el filtro <tt class="option">crop</tt>, puede que desee hacer
</p><pre class="screen">mplayer -vo zr -vf crop=720:320:80:0 <em class="replaceable"><code>benhur.avi</code></em></pre><p>
</p><p>
Si aparece <tt class="option">-zrcrop</tt> más veces invoca el modo
<span class="emphasis"><em>cinerama</em></span>, p.e. si quiere distribuir la película en varias
TV's o proyectores para crear una pantalla más grande. Supongamos que tiene
dos proyectores. Uno lo conecta a su Buz en <tt class="filename">/dev/video1</tt>
y el otro lo conecta a su DC10+ en <tt class="filename">/dev/video0</tt>. La película
tiene una resolución de 704x288. Supongamos también que que quiere el proyector de
la derecha en blanco y negro y el otro debe tener imágenes JPEG con calidad 10, para
todo esto deberá usar la siguiente órden
</p><pre class="screen">
mplayer -vo zr -zrdev /dev/video0 -zrcrop 352x288+352+0 -zrxdoff 0 -zrbw \
          -zrcrop 352x288+0+0 -zrdev /dev/video1 -zrquality 10 \
	  <em class="replaceable"><code>movie.avi</code></em>
</pre><p>
</p><p>
Puede ver que las opciones que aparecen antes del segundo <tt class="option">-zrcrop</tt>
solo se aplican al DC10+ y que las opciones después del segundo
<tt class="option">-zrcrop</tt> se aplican al Buz. El número máximo de tarjetas
MJPEG que pueden participar en el modo <span class="emphasis"><em>cinerama</em></span> es cuatro,
de modo que puede construirse una pantalla de 2x2.
</p><p>
Finalmente un apunte importante: No inicie o pare XawTV en el dispositivo de
reproduccion durante la misma, porque puede colgar su ordenador. Sin embargo
sí va bien si <span class="bold"><strong>PRIMERO</strong></span> inicia XawTV,
<span class="bold"><strong>DESPUÉS</strong></span> inicia <span class="application">MPlayer</span>,
espera a que <span class="application">MPlayer</span> termine y
<span class="bold"><strong>DESPUÉS</strong></span> detiene XawTV.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="blinkenlights"></a>2.3.1.4.2. Blinkenlights</h5></div></div></div><p>
Este controlador permite la reproducción usando el protocolo UDP Blinkenlinghts. Si no
sabe qué es <a href="http://www.blinkenlinghts.de/" target="_top">Blinkenlinghts</a>
no necesita este controlador.
</p></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="tvout"></a>2.3.1.5. Soporte de salida-TV</h4></div></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tvout-mga-g400"></a>2.3.1.5.1. Tarjetas Matrox G400</h5></div></div></div><p>
Bajo Linux tiene dos maneras de que la salida de TV de la G400 funcione:
</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Importante</h3><p>
para instrucciones sobre salida-TV de Matrox G450/G550 , ¡vaya a la sección siguiente!
</p></div><div class="variablelist"><dl><dt><span class="term">XFree86</span></dt><dd><p>
    Usando el controladoro y el módulo HAL, disponible en 
    <a href="http://www.matrox.com" target="_top">el sitio web  de Matrox</a>.
    Esto hará que tenga salida de TV bajo X.
    </p><p>
    <span class="bold"><strong>Este método no obtiene reproducción acelerada</strong></span>
    ¡como bajo Windows! La segunda salida tiene solo framebuffer YUV, el
    <span class="emphasis"><em>BES</em></span> (Back End Scaler, el escalador YUV en las tarjetas
    G200/G400/G450/G550) no funciona allí! El controlador de windows arregla esto
    de algún modo, probablemente usando el motor 3D para el zoom, y el framebuffer
    YUV para mostrar la imagen ampliada. Si realmente desea usar X, use
    las opciones <tt class="option">-vo x11 -fs -zoom</tt>, pero irá
    <span class="bold"><strong>LENTO</strong></span>, y tendrá la protección de
    <span class="bold"><strong>Macrovision</strong></span> activada (puede saltarse la
    protección de Macrovisión usando éste
    <a href="http://avifile.sourceforge.net/mgamacro.pl" target="_top">script en perl</a>).
    </p></dd><dt><span class="term">Framebuffer</span></dt><dd><p>
    Usando los <span class="bold"><strong>módulos matroxfb</strong></span> en los kernel 2.4.
    Los kernel 2.2 no tienen la característica de TVout, por lo que no se pueden
    usar para esto. Tiene que activar todas las características específicas de
    matroxfb durante la compilación (excepto MultiHead), ¡y compilarlo como
    <span class="bold"><strong>módulos</strong></span>! También necesita activar I2C.
    </p><div class="procedure"><ol type="1"><li><p>
      Entre en <tt class="filename">TVout</tt> y escriba
      <span><strong class="command">./compile.sh</strong></span>. Instale
      <tt class="filename">TVout/matroxset/matroxset</tt>
      en cualquier lugar de su <code class="envar">PATH</code>.
      </p></li><li><p>
      Si no tiene <span><strong class="command">fbset</strong></span> instalado, ponga
      <tt class="filename">TVout/fbset/fbset</tt>
      en cualquier lugar de su <code class="envar">PATH</code>.
      </p></li><li><p>
      Si no tiene <span><strong class="command">con2fb</strong></span> instalado, ponga
      <tt class="filename">TVout/con2fb/con2fb</tt>
      en cualquier lugar de su <code class="envar">PATH</code>.
      </p></li><li><p>
      Después entre en el directorio  <tt class="filename">TVout/</tt>
      de los fuentes de <span class="application">MPlayer</span>, y ejecute
      <tt class="filename">./modules</tt> como root. Su consola de modo-texto
      entrará en modo framebuffer (¡no hay marcha atrás!).
      </p></li><li><p>
      A continuación, EDITE y ejecute el script <tt class="filename">./matroxtv</tt>.
      Esto mostrará un menú muy simple. Pulse <span class="keycap"><b>2</b></span> y
      <span class="keycap"><b>Enter</b></span>. Ahora debe tener la misma imagen en su monitor,
      y TV. Si la imagen TV (PAL por defecto) tiene algunos efectos extraños,
      el script no ha sido capaz de establecer la resolución correcta (a 640x512
      por defecto). Pruebe otras resoluciones desde el menúo experimente un poco
      con fbset.
      </p></li><li><p>
      Bueno. La siguiente tarea es hacer que el cursor en tty1 (o donde sea)
      desaparezca, y desactive el apagado automático del monitor. Ejecute
      las siguientes órdenes:
      
      </p><pre class="screen">
echo -e '\033[?25l'
setterm -blank 0</pre><p>
      or
      </p><pre class="screen">
setterm -cursor off
setterm -blank 0</pre><p>

      Probablemente desee poner lo de arriba en un script, y también limpiar
      la pantalla. Para hacer que regrese el cursor:
      </p><pre class="screen">echo -e '\033[?25h'</pre><p> o
      </p><pre class="screen">setterm -cursor on</pre><p>
      </p></li><li><p>
      Muy bien chaval. Inicie la reproducción con
      </p><pre class="screen">
mplayer -vo mga -fs -screenw 640 -screenh 512 <em class="replaceable"><code>nombrearchivo</code></em></pre><p>
   
      (Si usa X, ahora cambie a matroxfb con por ejemplo
      <span class="keycap"><b>Ctrl</b></span>+<span class="keycap"><b>Alt</b></span>+<span class="keycap"><b>F1</b></span>.)
      Cambie <code class="literal">640</code> y <code class="literal">512</code> si establece
      otra resolución...
      </p></li><li><p>
      <span class="bold"><strong>¡Disfrute de la salida de TV ultra-rápida ultra-buena
      de Matrox (mejor que Xv)!</strong></span>
      </p></li></ol></div></dd></dl></div><p><b>Fabricando un cable de salida de TV para Matrox. </b>
Nadie se hace responsable, ni se ofrece ninguna garantía por ningún
daño causado por esta documentación.
</p><p><b>Cable para G400. </b>
El conector de cuatro contactos de CRTC2 es una señal de video compuesto.
La toma de tierra son los contactos sexto, séptimo y octavo. (información
proporcionada por Balázs Rácz)
</p><p><b>Cable para G450. </b>
Los cuatro primeros contactos del conector CRTC2 son la señal de video
compuesto. La tierra es el quinto, sexto, séptimo, y decimoquinto contactos
(5, 6, 7, 15). (información proporcionada por Balázs Kerekes)
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tv-out_matrox_g450"></a>2.3.1.5.2. Tarjetas Matrox G450/G550</h5></div></div></div><p>
El soporte para salida de TV en estas tarjetas ha sido introducido recientemente,
y aún no está en la rama principal del kernel. Actualmente el
módulo <span class="bold"><strong>mga_vid</strong></span> no puede usarse AFAIK, porque
el controlador de G450/G550 funciona solo en una configuración: el primer chip
CRTC (con muchas más características) en la primera pantalla (en el monitor),
y el segundo CRTC (no <span class="bold"><strong>BES</strong></span> - para explicación
sobre BES, vea la sección de G400 más arriba) en TV. Actualmente solo puede
usar el controlador de salida <span class="emphasis"><em>fbdev</em></span> de
<span class="application">MPlayer</span>.
</p><p>
Actualmente el primer CRTC no puede ser enrutado hacia el segundo monitor. El
autor del controlador del kernel matroxfb - Petr Vandrovec - quizá añada soporte
para ello, mostrando la salida del CRTC primario en ambas pantallas al mismo
tiempo, como recomendamos actualmente para G400, vea la sección anterior.
</p><p>
El parche para el kernel necesario y un 'como' detallado es descargable desde
<a href="http://www.bglug.ca/matrox_tvout/" target="_top">http://www.bglug.ca/matrox_tvout/</a>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tvout-ati"></a>2.3.1.5.3. Tarjetas ATI</h5></div></div></div><p><b>PREÁMBULO. </b>
Actualmente ATI no soporta ningún chip de salida de TV bajo Linux,
debido a los problemas de licencia de la tecnología Macrovision.
</p><div class="itemizedlist"><p class="title"><b>ESTADO DE LA SALIDA DE TV DE LAS TARJETAS ATI EN LINUX</b></p><ul type="disc"><li><p>
  <span class="bold"><strong>ATI Mach64</strong></span>:
  soportado por <a href="http://gatos.sf.net" target="_top">gatos</a>.
  </p></li><li><p>
  <span class="bold"><strong>ASIC Radeon VIVO</strong></span>:
  soportado por <a href="http://gatos.sf.net" target="_top">gatos</a>.
  </p></li><li><p>
  <span class="bold"><strong>Radeon</strong></span> y <span class="bold"><strong>Rage128</strong></span>:
  soportados por <span class="application">MPlayer</span>!
  Consulte el <a href="devices.html#vesa" title="2.3.1.2.11. VESA - salida en VESA BIOS">controlador VESA</a> y la secciones
  <a href="devices.html#vidix" title="2.3.1.2.13. VIDIX">VIDIX</a>.
  </p></li><li><p>
  <span class="bold"><strong>Rage Mobility P/M, Radeon, Rage 128, Mobility M3/M4</strong></span>:
  soportado por <a href="http://www.stud.uni-hamburg.de/users/lennart/projects/atitvout/" target="_top">atitvout</a>.
  </p></li></ul></div><p>
En otras tarjetas, use el controlador <a href="devices.html#vesa" title="2.3.1.2.11. VESA - salida en VESA BIOS">VESA</a>,
sin VIDIX. Lo malo es que se necesita una CPU potente.
</p><p>
Lo único que necesita hacer - <span class="bold"><strong>Tener el conector
de TV conectado antes de iniciar su PC</strong></span> porque la BIOS de video
se inicializa por sí misma solo una vez durante el proceso POST.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tvout-voodoo"></a>2.3.1.5.4. Voodoo 3</h5></div></div></div><p>
Consulte <a href="http://www.iki.fi/too/tvout-voodoo3-3000-xfree" target="_top">esta URL</a>.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tvout-nvidia"></a>2.3.1.5.5. nVidia</h5></div></div></div><p>
Lo primero, DEBE descargar los controladores de fuente-cerrada desde 
<a href="http://nvidia.com" target="_top">http://nvidia.com</a>. No voy a describir el proceso de instalación y configuración
porque no es el objetivo que pretende cubrir esta documentación.
</p><p>
Después de que XFree86, XVideo, y la aceleración 3D estén funcionando correctamente,
edite su sección Devide sobre la tarjeta en el archivo <tt class="filename">XF86Config</tt>,
de acuerdo con el siguiente ejemplo (adaptado para su tarjeta/TV):

</p><pre class="programlisting">
Section "Device"
        Identifier      "GeForce"
        VendorName      "ASUS"
        BoardName       "nVidia GeForce2/MX 400"
        Driver          "nvidia"
        #Option         "NvAGP" "1"
        Option          "NoLogo"
        Option          "CursorShadow"  "on"

        Option          "TwinView"
        Option          "TwinViewOrientation" "Clone"
        Option          "MetaModes" "1024x768,640x480"
        Option          "ConnectedMonitor" "CRT, TV"
        Option          "TVStandard" "PAL-B"
        Option          "TVOutFormat" "Composite"

EndSection
</pre><p>
</p><p>
Por supuesto lo importante es la parte del TwinView.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="tvout-neomagic"></a>2.3.1.5.6. Neomagic</h5></div></div></div><p>
Probado en un Toshiba Tecra 8000. Su chip de salida de TV es una cagada miserable.
Evítelo si es posible.
</p><p>
Debe usar <tt class="option">-vo vesa</tt>. El chip probado tiene capacidad solo para
una relación de aspecto 1.333333, por lo que debe asegurarse de que usa
las opciones <tt class="option">-x</tt>, <tt class="option">-y</tt> y/o los filtros
<tt class="option">-vf scale,crop,expand</tt> si la imagen no le deja habilitar 
la salida de TV. La resolución máxima es 720*576 a 16bpp.
</p><p>
Problemas conocidos: solo-VESA, limitación 1.33333, la imagen no está siempre
centrada, la película aparece en 4bpp cada 10 minutos, y se queda de esa forma.
Cuelgues frecuentes de hardware, problemas de representación en pantalla LCD.
</p></div></div></div><div class="sect2" lang="es"><div class="titlepage"><div><div><h3 class="title"><a name="audio-dev"></a>2.3.2. Dispositivos de salida de audio</h3></div></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="sync"></a>2.3.2.1. Sincronización de Audio/Video</h4></div></div></div><p>
La interfaz de audio de <span class="application">MPlayer</span> se llama
<span class="emphasis"><em>libao2</em></span>. Actualmente contiene los siguientes
controladores:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Controlador</th><th>Comentario</th></tr></thead><tbody><tr><td>oss</td><td>
  controlador OSS (ioctl) (soporta hardware AC3 passthrough)
  </td></tr><tr><td>sdl</td><td>
  controlador SDL (soporta demonios de sonido como <span class="bold"><strong>ESD</strong></span>
  y <span class="bold"><strong>ARTS</strong></span>)
  </td></tr><tr><td>nas</td><td>
  controlador NAS (Network Audio System)
  </td></tr><tr><td>alsa5</td><td>
  controlador nativo ALSA 0.5
  </td></tr><tr><td>alsa9</td><td>
  controlador nativo ALSA 0.9 (soporta hardware AC3 passthrough)
  </td></tr><tr><td>sun</td><td>
  controlador de sonido SUN (<tt class="filename">/dev/audio</tt>) para usuarios de BSD y Solaris8
  </td></tr><tr><td>macosx</td><td>
  controlador MacOSX nativo
  </td></tr><tr><td>win32</td><td>
  controlador Win32 nativo
  </td></tr><tr><td>arts</td><td>
  controlador ARTS nativo (mayormente para usuarios de KDE)
  </td></tr><tr><td>esd</td><td>
  controlador ESD nativo (mayormente para usuarios de GNOME)
  </td></tr><tr><td>jack</td><td>
  controlador JACK (Kit de conección de audio Jack)
</td></tr></tbody></table></div><p>
Los controladores para tarjetas de sonido en Linux tienen problemas
de compatibilidad. Por ese motivo <span class="application">MPlayer</span>
tiene la característica de tener <span class="emphasis"><em>propiamente</em></span>
codificados los controladores de sonido que lo habilitan para
mantener una sincronización audio/video correcta. Desgraciadamente,
algunos autores de controladores no tienen cuidado en codificar esta
característica debido a que no es necesaria para reproducir MP3s o
efectos de sonido.
</p><p>
Otros reproductores de medios como
<a href="http://avifile.sourceforge.net" target="_top">aviplay</a>
o <a href="http://xine.sourceforge.net" target="_top">xine</a> 
posiblemente funcionen out-of-the-box con estos controladores porque
usan métodos simples con temporización interna. Las mediciones muestran
que sus métodos no son tan eficientes como el de
<span class="application">MPlayer</span>.
</p><p>
Usando <span class="application">MPlayer</span> con un controlador de sonido
correctamente escrito nunca debe resultar en pérdida de sincronización
de A/V relacionada con el audio, excepto con archivos muy mal creados
(consulte la página de manual para solucionar el problema si ocurre).
</p><p>
Si piensa que tiene un controlador de audio en mal estado, pruebe la
opción <tt class="option">-autosync</tt>, lo que debe solucionar sus problemas.
Vea la página de manual para información detallada.
</p><div class="itemizedlist"><p class="title"><b>Algunas notas:</b></p><ul type="disc"><li><p>
  Si tiene un controlador OSS, primero pruebe <tt class="option">-ao oss</tt> (este
  es el que se usa por defecto). Si experimenta cortes, tirones o algo fuera
  de lo normal, pruebe <tt class="option">-ao sdl</tt> (NOTA: necesita tener las
  bibliotecas SDL y los archivos de cabecera instalados). El controlador
  de audio SDL le ayudará en muchos casos y también soporta ESD (GNOME) y
  ARTS (KDE).
  </p></li><li><p>
  Si tiene la versión 0.5 de ALSA, entonces casi siempre tendrá que usar
  <tt class="option">-ao alsa5</tt>, porque ALSA 0.5 tiene un código de emulación
  de OSS que falla, y puede <span class="bold"><strong>hacer fallar
  <span class="application">MPlayer</span></strong></span> con un mensaje como este:
  </p><pre class="screen">
DEMUXER: Demasiados (945 en 8390980 bytes) paquetes de video en el buffer!</pre><p>
  </p></li><li><p>
  En Solaris, use el controlador de audio de SUN con la opción <tt class="option">-ao sun</tt>,
  si no lo hace no funcionará ni el video ni el audio.
  </p></li><li><p>
  Si el sonido se entrecorta mientras se reproduce desde un CD-ROM, active
  el enmascaramiento de IRQ, e.g. <span><strong class="command">hdparm -u1 /dev/cdrom</strong></span>
  (<span><strong class="command">man hdparm</strong></span>). Normalmente siempre es buena idea y se
  describe con más detalle en la sección de <a href="drives.html" title="5.1. Unidades de CD/DVD">CD-ROM</a>.
 </p></li></ul></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="experiences"></a>2.3.2.2. Experiencias con tarjetas de sonido, recomendaciones</h4></div></div></div><p>
En Linux, es altamente recomendado el uso de un kernel 2.4.x. El kernel 2.2
no ha sido probado.
</p><p>
Los controladores de sonido de Linux son principalmente proporcionados
mediante una versión libre de OSS. Estos controladores han sido reemplazados
por <a href="http://www.alsa-project.org" target="_top">ALSA</a> (Advanced Linux Sound
Architecture (Arquitectura Avanzada de Sonido en Linux)) en las series de
desarrollo de 2.5. Si su distribución no tiene ALSA puede que quiera
probar esos controladores si tiene problemas con el sonido. Los controladores
ALSA son generalmente superiores a OSS en compatibilidad, rendimiento y
características. Pero algunas tarjetas de sonido solo están soportadas
por los controladores de sonido comerciales OSS de
<a href="http://www.opensound.com/" target="_top">4Front Technologies</a>.
Estos también tienen soporte para varios sistemas no-Linux.
</p><div class="informaltable"><table border="1"><colgroup><col><col><col><col><col><col><col><col></colgroup><thead><tr><th rowspan="3" valign="middle">TARJETA DE SONIDO</th><th colspan="4">CONTROLADOR</th><th rowspan="3" valign="middle">Max kHz</th><th rowspan="3" valign="middle">Max Canales</th><th rowspan="3" valign="middle">Max Opens
      <sup>[<a name="maxopens" href="#ftn.maxopens">a</a>]</sup>
    </th></tr><tr><th>OSS/Free</th><th>ALSA</th><th>OSS/Pro</th><th>otros</th></tr></thead><tbody><tr><td>VIA onboard (686/A/B, 8233, 8235)</td><td>
      <a href="http://sourceforge.net/project/showfiles.php?group_id=3242&amp;release_id=59602" target="_top">via82cxxx_audio</a>
    </td><td>snd-via82xx</td><td> </td><td> </td><td>4-48 kHz o 48 kHz solo, dependiendo del chipset</td><td> </td><td> </td></tr><tr><td>Aureal Vortex 2</td><td>no</td><td>no</td><td>OK</td><td>
      <a href="http://aureal.sourceforge.net" target="_top">Linux Aureal Drivers</a>
      <a href="http://makacs.poliod.hu/~pontscho/aureal/au88xx-1.1.3.tar.bz2" target="_top">tamaño del buffer incrementado a 32k</a>
    </td><td>48</td><td>4.1</td><td>5+</td></tr><tr><td>SB Live!</td><td>Analog OK, SP/DIF no funciona</td><td>Ambos OK</td><td>Ambos OK</td><td>
      <a href="http://opensource.creative.com" target="_top">Creative's OSS driver (soporte SP/DIF)</a>
    </td><td>192</td><td>4.0/5.1</td><td>32</td></tr><tr><td>SB 128 PCI (es1371)</td><td>OK</td><td>?</td><td> </td><td> </td><td>48</td><td>stereo</td><td>2</td></tr><tr><td>SB AWE 64</td><td>max 44kHz</td><td>48kHz sounds bad</td><td> </td><td> </td><td>48</td><td> </td><td> </td></tr><tr><td>GUS PnP</td><td>no</td><td>OK</td><td>OK</td><td> </td><td>48</td><td> </td><td> </td></tr><tr><td>Gravis UltraSound ACE</td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>Gravis UltraSound MAX</td><td>OK</td><td>OK (?)</td><td> </td><td> </td><td>48</td><td> </td><td> </td></tr><tr><td>ESS 688</td><td>OK</td><td>OK (?)</td><td> </td><td> </td><td>48</td><td> </td><td> </td></tr><tr><td>Tarjetas C-Media (CMI8338/8738)</td><td>OK</td><td>OK SP/DIF funciona con ALSA 0.9.x</td><td>?</td><td> </td><td>44</td><td>estéreo</td><td>1</td></tr><tr><td>Tarjetas Yamaha (*ymf*)</td><td>no OK (?) (quizá <tt class="option">-ao sdl</tt>)</td><td>OK solo con ALSA 0.5 con emulación OSS
      <span class="bold"><strong>Y</strong></span> <tt class="option">-ao sdl</tt> (!) (?)</td><td> </td><td> </td><td> </td><td> </td><td> </td></tr><tr><td>Tarjetas con chips envy24 (como Terratec EWS88MT)</td><td>?</td><td>?</td><td>OK</td><td> </td><td>?</td><td> </td><td> </td></tr><tr><td>PC Speaker o DAC</td><td>OK</td><td>no</td><td> </td><td>
      <a href="http://www.geocities.com/stssppnn/pcsp.html" target="_top">Linux PC speaker OSS driver</a>
    </td><td>El controlador emula 44.1, quizá más.</td><td>mono</td><td>1</td></tr></tbody><tbody class="footnotes"><tr><td colspan="8"><div class="footnote"><p><sup>[<a name="ftn.maxopens" href="#maxopens">a</a>] </sup>el número de aplicaciones que pueden usar el dispositivo
          <span class="emphasis"><em>a la vez</em></span>.</p></div></td></tr></tbody></table></div><p>
La realimentación sobre este documento siempre es bienvenida. Por favor
díganos como funcionan juntos <span class="application">MPlayer</span> y su(s)
tarjeta(s) de sonido.
</p></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="af"></a>2.3.2.3. Filtros de audio</h4></div></div></div><p>
  Los plugions de audio viejos han sido reemplazados por una nueva capa de
  filtros de audio. Los filtros de audio son usados para cambiar propiedades
  de los datos de audio antes de que alcancen la tarjeta de sonido.
  La activación y desactivación de los filtros normalmente se hace de manera
  automática pero puede también forzarse. Los filtros son activados cuando
  las propiedades de los datos de audio difieren de los requeridos por la
  tarjeta de sonido y desactivados si no son necesarios. La opción
  <tt class="option">-af filtro1,filtro2,...</tt> se usa para forzar la activación
  automática de filtros o para insertar filtros que no se activan de manera
  automática. Los filtros son ejecutados en el orden en el que aparecen en
  la lista separados por comas.
</p><p>
Ejemplo:
</p><pre class="screen">mplayer -af resample,pan <em class="replaceable"><code>movie.avi</code></em></pre><p>
enviaría el sonido a través del filtro de remuestreo seguido del filtro pan.
Observe que la lista no debe contener espacios, si no fallará.
</p><p>
Los filtros también tienen opciones que cambian su comportamiento. Estas opciones
son explicadas en detalle en las secciones siguientes. Un filtro se ejecutará
usando la configuración por defecto si se omiten las opciones. Aquí hay un ejemplo
de cómo usar los filtros en combinación con las opciones específicas del filtro:
</p><pre class="screen">mplayer -af resample=11025,pan=1:0.5:0.5 -channels 1 -srate 11025 <em class="replaceable"><code>media.avi</code></em></pre><p>
establecería la frecuencia de salida del filtro de remuestreo a 11025Hz y
reduciría los canales de audio a 1 usando el filtro pan.
</p><p>
La ejecución general de la capa de filtros es controlada usando la
opción <tt class="option">-af-adv</tt>. Esta opción tiene dos subopciones:
</p><p>
<tt class="option">force</tt> es un pequeño campo binario que controla cómo
se insertarán los filtros y que optimizaciones de velocidad/precisión usarán:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">0</tt></span></dt><dd><p>
Usar inserción automática de filtros y optimizar de acuerdo a la velocidad de la CPU.
</p></dd><dt><span class="term"><tt class="option">1</tt></span></dt><dd><p>
Usar inserción automática de filtros y optimizar para la velocidad más alta.
<span class="emphasis"><em>Advertencia:</em></span> Algunas características en los filtros de
audio pueden fallar sin avisar, y la calidad del sonido puede verse afectada.
</p></dd><dt><span class="term"><tt class="option">2</tt></span></dt><dd><p>
Usar inserción automática de filtros y optimizar para calidad.
</p></dd><dt><span class="term"><tt class="option">3</tt></span></dt><dd><p>
No usar inserción automática de filtros ni optimización.
<span class="emphasis"><em>Advertencia:</em></span> Es posible hacer fallar a <span class="application">MPlayer</span> utilizando esta opción.
</p></dd><dt><span class="term"><tt class="option">4</tt></span></dt><dd><p>
Usar inserción automática de filtros igual que el 0 de más arriba,
pero utilizando procesamiento de punto flotante cuando sea posible.
</p></dd><dt><span class="term"><tt class="option">5</tt></span></dt><dd><p>
Usar inserción automática de filtros como el 1 de más arriba,
pero utilizando procesamiento de punto flotante cuando sea posible.
</p></dd><dt><span class="term"><tt class="option">6</tt></span></dt><dd><p>
Usar inserción automática de filtros como el 2 de más arriba,
pero utilizando procesamiento de punto flotante cuando sea posible.
</p></dd><dt><span class="term"><tt class="option">7</tt></span></dt><dd><p>
No usar inserción automática de filtros como el 3 de más arriba,
y utilizar procesamiento de punto flotante cuando sea posible.
</p></dd></dl></div><p>
<tt class="option">list</tt> es un alias de la opción -af.
</p><p>
La capa de filtros también se ve afectada por las siguientes opciones
generales:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">-v</tt></span></dt><dd><p>
Incrementa el nivel de verbosidad y hace que la mayoría de
los filtros impriman mensajes de estado extras.
</p></dd><dt><span class="term"><tt class="option">-channels</tt></span></dt><dd><p>
Esta opción establece el número de canales de salida que desea que
use su tarjeta de sonido. Esto también afecta al número de canales
que se decodifican desde el medio. Si el medio contiene menos canales
de los que se solicitan el filtro de canales (vea más abajo)
será utomaticamente insertado. La ruta será la ruta por defecto para
el filtro de canales.
</p></dd><dt><span class="term"><tt class="option">-srate</tt></span></dt><dd><p>
Esta opción selecciona la tasa de muestreo que quiere que use su tarjeta
de sonido (por supuesto las tarjetas tienen límites en este aspecto). Si
la frecuencia de muestreo de su tarjeta de sonido es diferente de la que
tiene el medio actual, el filtro de remuestreo (vea más abajo) será insertado
en la capa de filtros de audio para compensar la diferencia.
</p></dd><dt><span class="term"><tt class="option">-format</tt></span></dt><dd><p>
Esta opción establece el formato de muestreo entre la capa de filtros de
audio y la tarjeta de sonido. Si el formato de muestreo solicitado de su
tarjeta de sonido es diferente del que tiene el medio actual, un filtro de
formato (vea más abajo) será insertado para rectificar la diferencia.
</p></dd></dl></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_resample"></a>2.3.2.3.1. Super/Submuestreo</h5></div></div></div><p>
<span class="application">MPlayer</span> soporta completamente
super/sub-muestreo de sonido a través del filtro <tt class="option">resample</tt>.
Puede ser usado si tiene una frecuencia fija para la tarjeta de sonido
o si tiene una tarjeta de sonido antigua que solo tiene como capacidad
máxima 44.1kHz. Este filtro es activado automáticamente si es necesario,
pero también puede ser habilitado explícitamente en la línea de órdenes.
Tiene tres opciones:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">srate &lt;8000-192000&gt;</tt></span></dt><dd><p>
    es un entero usado para establecer la frecuencia de muestreo de salida
    en Hz. El rango válido para éste parámetro es de 8kHz a 192kHz. Si
    la frecuencia de muestreo de entrada y de salida son la misma o si
    este parámetro es omitido el filtro automáticamente es descargado. Una
    frecuencia de muestreo alta normalmente mejora la calidad el audio,
    especialmente si es usada en combinación con otros filtros.
</p></dd><dt><span class="term"><tt class="option">sloppy</tt></span></dt><dd><p>
    es un parámetro binario opcional que permite que la frecuencia de salida
    sea ligeramente diferente que la frecuencia dada por <tt class="option">srate</tt>.
    Esta opción puede ser usada si el inicio de la reproducción es extremadamente
    lento. Está activado por defecto.
</p></dd><dt><span class="term"><tt class="option">type &lt;0-2&gt;</tt></span></dt><dd><p>
    es un entero opcional entre <code class="literal">0</code> y <code class="literal">2</code> que
    elije el método de muestreo a usar. Aquí <code class="literal">0</code> representa
    interpolación lineal como método de muestreo, <code class="literal">1</code> representa
    muestreo usando un banco de filtros de poli-fase y procesamiento con enteros y
    <code class="literal">2</code> representa muestreo usando un banco de filtro de poli-fase
    y procesamiento de punto flotante. La interpolación lineal es extremadamente
    rápida, pero sufre de pobre calidad de sonido especialmente cuando se usa
    para sobre-muestreo. La mejor calidad se obtiene con <code class="literal">2</code>
    pero este método también sufre de una gran carga de la CPU.
</p></dd></dl></div><p>Ejemplo:
</p><pre class="screen">mplayer -af resample=44100:0:0</pre><p>
establecería la frecuencia de salida del filtro de muestreo a 44100Hz usando
escalado exacto de la frecuencia de salida e interpolación lineal.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_channels"></a>2.3.2.3.2. Cambiando el número de canales</h5></div></div></div><p>
El filtro <tt class="option">channels</tt> puede ser usado para añadir y quitar
canales, también puede usarse para enrutar o copiar canales. Es activado
automáticamente cuando la salida de la capa de filtro de audio difiere de
la capa de entrada o cuando es pedido por otro filtro. Este filtro se descarga
a sí mismo si no es necesario. El número de opciones es dinámico:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">nch &lt;1-6&gt;</tt></span></dt><dd><p>
  es un entero entre <code class="literal">1</code> y <code class="literal">6</code> que es usado
  para establecer el número de canales de salida. Esta opción es requerida, dejarla
  vacía resultará en un error en tiempo de ejecución.
</p></dd><dt><span class="term"><tt class="option">nr &lt;1-6&gt;</tt></span></dt><dd><p>
  es un entero entre <code class="literal">1</code> y <code class="literal">6</code> que es usado para
  especificar el número de rutas. Este parámetro es opcional, Si se omite
  se usará el enrutamiento por defecto.
</p></dd><dt><span class="term"><tt class="option">from1:to1:from2:to2:from3:to3...</tt></span></dt><dd><p>
  son pares de números entre <code class="literal">0</code> y <code class="literal">5</code>
  que definen donde debe ser enrutado cada canal.
</p></dd></dl></div><p>
  Si solo se da <tt class="option">nch</tt> se usa el enrutado por defecto, funciona
  de la siguiente manera: Si el número de canales de salida es mayor que el
  número de canales de entrada se insertarán canales vacíos (excepto al mezclar
  de mono a estéreo, entonces el canal mono es repetido en ambos canales de salida).
  Si el número de canales de salida es menor que el número de canales de entrada
  los canales sobrantes serán truncados.
</p><p>
Ejemplo 1:
</p><pre class="screen">mplayer -af channels=4:4:0:1:1:0:2:2:3:3 <em class="replaceable"><code>media.avi</code></em></pre><p>
cambiaría el número de canales a 4 y establecería 4 rutas que cambian
el canal 0 y el canal 1 y dejan el canal 2 y 3 intactos. Observe que
si el medio en reproducción contiene dos canales, los canales 2 y 3
contendrían silencio pero 0 y 1 serían intercambiados.
</p><p>
Ejemplo 2:
</p><pre class="screen">mplayer -af channels=6:4:0:0:0:1:0:2:0:3 <em class="replaceable"><code>media.avi</code></em></pre><p>
cambiaría el número de canales a 6 y estableceriá 4 rutas que copian
el canal 0 a los canales desde el 0 al 3. Canal 4 y 5 contendrán silencio.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_format"></a>2.3.2.3.3. Conversor del formato de muestreo</h5></div></div></div><p>
El filtro <tt class="option">format</tt> convierte entre diferentes formatos de muestreo.
  Se activa automáticamente cuando es necesario por la tarjeta de sonido u otro
  filtro.
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">bps &lt;number&gt;</tt></span></dt><dd><p>
    puede ser <code class="literal">1</code>, <code class="literal">2</code> o <code class="literal">4</code> y
    denota el número de bytes por muestra. Esta opción es requerida, dejarla vacía
     producirá un error en tiempo de ejecución.
</p></dd><dt><span class="term"><tt class="option">f &lt;format&gt;</tt></span></dt><dd><p>
    es una cadena de texto que describe el formato de muestreo. La cadena es
    una concatenación de: <tt class="option">alaw</tt>, <tt class="option">mulaw</tt> o
    <tt class="option">imaadpcm</tt>, <tt class="option">float</tt> o <tt class="option">int</tt>,
    <tt class="option">unsigned</tt> o <tt class="option">signed</tt>, <tt class="option">le</tt> o
    <tt class="option">be</tt> (little o big endian). Esta opción es requerida,
    dejarla vacía resultará en un error en tiempo de ejecución.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af format=4:float <em class="replaceable"><code>media.avi</code></em></pre><p>
establecerá el formato de salida a 4 bytes por muestra en datos en punto flotante.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_delay"></a>2.3.2.3.4. Retardo</h5></div></div></div><p>
El filtro <tt class="option">delay</tt> retarda el sonido en los altavoces de manera
que el sonido de diferentes canales llega a la posición del oyente simultáneamente.
Esto solo es útil si tiene más de 2 altavoces. Este filtro tiene un número
variable de parámetros:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">d1:d2:d3...</tt></span></dt><dd><p>
    son números de punto flotante que representan retardos en ms que deben
    ser impuestos en los diferentes canales. El retardo mínimo es 0ms y el
    máximo es 1000ms.
</p></dd></dl></div><p>
Para calcular el retardo requerido para los diferentes canales haga lo siguiente:
</p><div class="orderedlist"><ol type="1"><li><p>
    Mida la distancia a los altavoces en metros en relación con la posición
    del oyente, dando las distancias de s1 a s5 (para un sistema 5.1).
    No hay punto en compensación para el sub-woofer (de ningún modo oirá la diferencia).
</p></li><li><p>
Restele las distancias s1 a s5 a la distancia máxima, p.e.
    s[i] = max(s) - s[i]; i = 1...5
</p></li><li><p>
Calcule el retardo requerido en ms como
    d[i] = 1000*s[i]/342; i = 1...5
</p></li></ol></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af delay=10.5:10.5:0:0:7:0 <em class="replaceable"><code>media.avi</code></em></pre><p>
retardaría delantero izquierdo y derecho en 10.5ms, los dos canales traseros
y el sub en 0ms y el canal central en 7ms.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_volume"></a>2.3.2.3.5. Control de volumen por software</h5></div></div></div><p>El control de volumen de software está implementado mediante el
filtro de audio <tt class="option">volume</tt>. Use este filtro con precaución
porque puede reducir la relación señal ruido para el sonido. En la mayoría
de los casos es mejor establecer el nivel para el sonido PCM al máximo, dejar
este filtro sin usar y controlar el nivel de salida de sus altavoces con el
control de volumen master del mezclador. En el caso de que su tarjeta
de sonido tenga un mezclador PCM digital en lugar de analógico, y oiga
distorsión, use el mezclador MASTER en su lugar. Si hay un amplificador externo
conectado al ordenador (este es casi siempre el caso), el nivel de ruido puede
minimizarse ajustando el nivel del master y el volumen knob del amplificador
hasta que desaparezca el sonido de silbido de fondo. Este filtro tiene dos
opciones:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">v &lt;-200 - +60&gt;</tt></span></dt><dd><p>
    es un número de punto flotante entre <code class="literal">-200</code> and <code class="literal">+60</code>
    que representa el nivel de volumen en dB. El valor por defecto es 0dB.
</p></dd><dt><span class="term"><tt class="option">c</tt></span></dt><dd><p>
    es un control binario que activa y/o desactiva el soft clipping. 
    Soft-clipping puede hacer el sonido mucho más suave si se usan altos niveles
    de volumen. Active esta opción si el rango dinámico de los altavoces es
    muy bajo. Tenga cuidado ya que esta característica crea distorsión y debe
    ser considerada como última opción.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af volume=10.1:0 <em class="replaceable"><code>media.avi</code></em></pre><p>
amplificariá el sonido por 10.1dB y hard-clip si el nivel de sonido es demasiado alto.
</p><p>
Este filtro tiene una segunda característica: Mides el nivel de sonido máximo
y lo muestra cuando MPlayer termina. Esta estimación del volumen puede
usarse para establecer el nivel de sonido en
<span class="application">MEncoder</span> y asi utilizar el máximo rango dinámico.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_equalizer"></a>2.3.2.3.6. Ecualizador</h5></div></div></div><p>
El filtro <tt class="option">equalizer</tt> representa un ecualizador de 10 bandas
gráficas en octavas, implementado usando filtros paso banda IIR de orden 10.
Esto significa que funciona sin importar el tipo de audio que está siendo
reproducido. Las frecuencias centrales para las 10 bandas son:
</p><div class="informaltable"><table border="1"><colgroup><col><col></colgroup><thead><tr><th>Banda No.</th><th>Frecuencia central</th></tr></thead><tbody><tr><td>0</td><td>31.25 Hz</td></tr><tr><td>1</td><td>62.50 Hz</td></tr><tr><td>2</td><td>125.0 Hz</td></tr><tr><td>3</td><td>250.0 Hz</td></tr><tr><td>4</td><td>500.0 Hz</td></tr><tr><td>5</td><td>1.000 kHz</td></tr><tr><td>6</td><td>2.000 kHz</td></tr><tr><td>7</td><td>4.000 kHz</td></tr><tr><td>8</td><td>8.000 kHz</td></tr><tr><td>9</td><td>16.00 kHz</td></tr></tbody></table></div><p>
Si la tasa de muestreo de sonido que está siendo reproducido es menor que
la frecuencia central para una banda de frecuencia, entonces esta banda
es deshabilitada. Un fallo conocido con este filtro es que las características
para la banda más alta no son completamente simétricas si la tasa de muestreo
es cercana a la frecuencia central de la banda. Este problema puede ser 
solucionado sobre-muestreando el sonido usando el filtro de remuestreo
antes de que se use este filtro.
</p><p>
Este filtro tiene 10 parámetros:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">g1:g2:g3...g10</tt></span></dt><dd><p>
son números de punto flotante entre <code class="literal">-12</code> y <code class="literal">+12</code>
que representan la ganancia en dB para cada banda de frecuencia.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af equalizer=11:11:10:5:0:-12:0:5:12:12 <em class="replaceable"><code>media.avi</code></em></pre><p>
amplificaría el sonido en la región superior e inferior de frecuencia mientras
cancela casi por completo alrededor de 1kHz.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_panning"></a>2.3.2.3.7. Filtro de panning</h5></div></div></div><p>
Use el filtro <tt class="option">pan</tt> para mezclar canales arbitrariamente.
Básicamente se trata de una combinación del conrol de volumen y el filtro
de canales. Hay dos usos principales para este filtro:
</p><div class="orderedlist"><ol type="1"><li><p>
Sub-Mezclando varios canales a solo unos pocos, estéreo a mono por ejemplo.
</p></li><li><p>
Variando el "ancho" del altavoz central en un sistema de sonido surround.
</p></li></ol></div><p>
Este filtro es dificil de usar, y requiere un poco de análicis antes de
obtener los resultados deseados. El número de opciones para este filtro
depende el número de canales de salida:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">nch &lt;1-6&gt;</tt></span></dt><dd><p>
es un entero entre <code class="literal">1</code> and <code class="literal">6</code> y es usado
para establecer el número de canales de salida. Esta opción es requerida, dejarla
vacía resultará en un error en tiempo de ejecución.
</p></dd><dt><span class="term"><tt class="option">l00:l01:l02:..l10:l11:l12:...ln0:ln1:ln2:...</tt></span></dt><dd><p>
son números de punto flotante entre <code class="literal">0</code> y <code class="literal">1</code>.
<tt class="option">l[i][j]</tt> determina cuanto del canal de entrada j es 
mezclado en el canal de salida i.
</p></dd></dl></div><p>
Ejemplo 1:
</p><pre class="screen">mplayer -af pan=1:0.5:0.5 -channels 1 <em class="replaceable"><code>media.avi</code></em></pre><p>
Sub-mezclará de estéreo a mono.
</p><p>
Ejemplo 2:
</p><pre class="screen">mplayer -af pan=3:1:0:1:0.5:0.5 -channels 3 <em class="replaceable"><code>media.avi</code></em></pre><p>
Produciría 3 canales de salida dejando los canales 0 y 1 intactos, mezclandolos
, ademas, en el canal de salida 2 (que puede ser enviado a un
sub-woofer por ejemplo).
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_sub"></a>2.3.2.3.8. Sub-woofer</h5></div></div></div><p>
El filtro <tt class="option">sub</tt> añade un canal de sub woofer al flujo de
audio. Los datos de audio usados para crear el canal de sub-woofer son
una media del sonido en el canal 0 y el canal 1. El sonido resultante es
entonces filtrado paso-baja por un filtro de Butterworth de 4º orden con
una frecuencia de corte por defecto de 60Hz y añadido a un canal separado
en el flujo de audio. Advertencia: Desactive este filtro cuando reproduzca
DVDs con sonido Dolby Digital 5.1, de otro modo este filtro puede estropear
el sonido del sub-woofer. Este filtro tiene dos parámetros:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">fc &lt;20-300&gt;</tt></span></dt><dd><p>
    es un número opcional de punto flotante usado para establecer la frecuencia
    de corte del filtro en Hz. El rango válido es 20Hz a 300Hz. Para el mejor
    resultado pruebe una frecuencia de corte tan baja como sea posible. Esto 
    mejorará la experiencia de sonido estéreo o surround. La frecuencia de
    corte por defecto es 60Hz.
</p></dd><dt><span class="term"><tt class="option">ch &lt;0-5&gt;</tt></span></dt><dd><p>
    es un entero opcional entre <code class="literal">0</code> y <code class="literal">5</code>
    que determina el número de canal en el que se insertará el sub-canal de 
    audio.
    Por defecto se usa el canal número <code class="literal">5</code>. Observe que el
    número de canales automáticamente será incrementado a
    <em class="replaceable"><code>ch</code></em> si es necesario.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af sub=100:4 -channels 5 <em class="replaceable"><code>media.avi</code></em></pre><p>
añadiría un canal de sub-woofer con una frecuencia de corte de
100Hz al canal de salida 4.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_surround"></a>2.3.2.3.9. Decodificador de Surround-sound</h5></div></div></div><p>
El sonido codificado con matriz de codificación de surround puede ser
decodificado con el filtro <tt class="option">surround</tt>. Dolby Surround es
un ejemplo de formato codificado en matriz. Muchos archivos con audio
en 2 canales actualmente contienen audio surround en matrices. Para usar
esta característica necesita una tarjeta de sonido que soporte al menos
4 canales. Este filtro tiene un parámetro:
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">d &lt;0-1000&gt;</tt></span></dt><dd><p>
es un número de punto flotante opcional entre <code class="literal">0</code> y
<code class="literal">1000</code> usado para establecer el tiempo de retardo en ms
para los altavoces traseros. Este retardo debe se establecido de la siguiente
manera: si d1 es la distandia desde la posición del oyente hasta los altavoces
frontales y d2 es la distancia desde la posición del oyente hasta los
altavoces traseros, entonces el retardo d debe ser de 15ms si &lt;= d2 y
a 15 + 5*(d1-d2) si d1 &gt; d2. El valor por defecto para d es 20ms.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af surround=15 -channels 4 <em class="replaceable"><code>media.avi</code></em></pre><p>
añadiría decodificación de sonido surround con 15ms de retardo para el
sonido de los altavoces traseros.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="af_export"></a>2.3.2.3.10. Exportador de audio</h5></div></div></div><p>
Este filtro de audio exporta la señal entrante de otro proceso usando mapeado
de memoria (<code class="literal">mmap()</code>). Las zonas de memoria mapeada contienen
una cabecera:

</p><pre class="programlisting">
int nch		/* número de canales */
int size	/* tamaño del buffer */
unsigned long long counter	/* Usado para mantener la sincronización, es
				   actualizado cada vez que se exportan nuevos
				   datos */
</pre><p>

El resto son datos de 16bit de carga (no-interpolados).
</p><div class="variablelist"><dl><dt><span class="term"><tt class="option">mmapped_file</tt></span></dt><dd><p>
El archivo al que quiere que este filtro exporte. Por defecto se mapea a
<tt class="filename">~/.mplayer/mplayer-af_export</tt>.
</p></dd><dt><span class="term"><tt class="option">nsamples</tt></span></dt><dd><p>
Número de muestras por canal. Por defecto es <code class="literal">512</code> muestras.
</p></dd></dl></div><p>
Ejemplo:
</p><pre class="screen">mplayer -af export=/tmp/mplayer-af_export:1024 medio.avi</pre><p>
exportaría 1024 muestras por canal a <tt class="filename">/tmp/mplayer-af_export</tt>.
</p></div></div><div class="sect3" lang="es"><div class="titlepage"><div><div><h4 class="title"><a name="audio-plugins"></a>2.3.2.4. Plugins de audio (desaprobado)</h4></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p><span class="bold"><strong>Los plugins de audio han sido supercedidos 
por los filtros de audio y serán eliminados pronto.</strong></span></p></div><p>
<span class="application">MPlayer</span> tiene soporte para plugins de audio. Los
plugins de audio pueden usarse para cambiar las propiedades de los datos de
audio antes de que alcancen la tarjeta de sonido. Se activan usando la 
opción <tt class="option">-aop</tt> que toma como argumento
<tt class="option">list=plugin1,plugin2,...</tt>. El argumento <tt class="option">list</tt>
es requerido y determina qué plugins deben usarse y en qué orden deben ser
ejecutados. Ejemplo:

</p><pre class="screen">mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=resample,format</pre><p>
enviará el sonido a través del plugin de remuestreo seguido por el plugin
de formato.
</p><p>
Los plugins también pueden tener opciones que modifican su comportamiento.
Estas opciones son explicadas en detalle en las secciones siguientes. Un
plugin se ejecutará usando su configuración por defecto si se omiten 
opciones. Aquí hay un ejemplo de cómo usar los plugins en combinación con
sus opciones específicas:

</p><pre class="screen">mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=resample,format:fout=44100:format=0x8</pre><p>
establecería la frecuencia de salida del plugin de remuestreo a 44100Hz y el
formato de salida del plugin de formato a AFMT_U8.
</p><p>
Actualmente los plugins de audio no pueden usarse en
<span class="application">MEncoder</span>.
</p><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="updn-sampling"></a>2.3.2.4.1. Sobre/Submuestreo</h5></div></div></div><p>
<span class="application">MPlayer</span> soporta por completo sobre/submuestreo del sonido.
Este plugin puede usarse si tiene una tarjeta de sonido con una frecuencia fija o si
tiene una tarjeta de sonido antigua que solo es capaz como máximo de usar 44.1 kHz.
Las limitaciones de su hardware no son detectadas automáticamente, por lo que debe especificar la
frecuencia de muestreo explícitamente. Este plugin tiene una opcion: <tt class="option">fout</tt>
que se usa para establecer la frecuencia de muestreo de salida deseada. Por defecto es
48 kHz, y viene dada en Hz.
</p><p>
Uso:

</p><pre class="screen">
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=resample:fout=<em class="replaceable"><code>freq</code></em></pre><p>

donde <code class="literal"><em class="replaceable"><code>freq</code></em></code> es la frecuencia
en Hz, como <code class="literal">44100</code>.
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Nota</h3><p>
La frecuencia de salida no debe ser escalada por encima del valor por defecto.
Escalar por encima de este valor puede causar que los flujos de audio y video
sean reproducidos en movimiento lento además de distorsión del audio.
</p></div></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="surround-decode"></a>2.3.2.4.2. Decodificación de Sonido Surround</h5></div></div></div><p>
<span class="application">MPlayer</span> tiene un plugin de audio que puede decodificar
sonido codificado con matriz de sonido surround. Dolby Surround es un ejemplo de un
formato codificado en matriz. Algunos archivos con 2 canales de audio actualmente
contienen sonido surround en matriz. Para usar esta característica necesita una
tarjeta de sonido que soporte al menos 4 canales.
</p><p>
Uso:
</p><pre class="screen">mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=surround</pre><p>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="sample-format-conv"></a>2.3.2.4.3. Conversor de formato de muestreo</h5></div></div></div><p>
Si el controlador de su tarjeta de sonido no soporta tipos de datos
enteros de 16-bit con signo, este plugin puede usarse para cambiar el formato
a uno que su tarjeta de sonido pueda entender. Tiene una opción,
<tt class="option">format</tt>, que puede establecer a uno de los números encontrados
en <tt class="filename">libao2/afmt.h</tt>. Es muy raro que vaya a necesitar este plugin alguna vez, ademas es para usuarios avanzados. Tenga en mente
que este plugin solo cambia el formato de muestreo y no la frecuencia de muestreo
o el número de canales.
</p><p>
Uso:

</p><pre class="screen">
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=format:format=<em class="replaceable"><code>outfmt</code></em></pre><p>

donde <code class="literal"><em class="replaceable"><code>outfmt</code></em></code> es el
formato de salida requerido.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="audio-delay"></a>2.3.2.4.4. Retardo</h5></div></div></div><p>
Este plugin retarda el sonido y está hecho como un ejemplo de cómo
se pueden desarrollar nuevos plugins. No puede ser usado para nada útil
desde el punto de vista de los usuarios y se menciona aquí únicamente por
completitud. No use este plugin a menos que sea un desarrollador.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="sw-volume"></a>2.3.2.4.5. Control de volumen por software</h5></div></div></div><p>
Este plugin es un reemplazo de sofware para el control de volumen, y puede
ser usado en máquinas con un dispositivo mezclador en mal estado. También
puede usarse si se quiere cambiar el volumen de salida de
<span class="application">MPlayer</span> sin cambiar la configuración de volumen
PCM en el mezclador. Tiene una opción <tt class="option">volume</tt> que se usa
para establecer el nivel inicial de sonido. El nivel inicial de sonido puede
ser establecido con valores entre 0 y 255 y por defecto 101 que es igual
a 0dB de amplificación. Use este plugin con cuidado porque puede reducir la
relación señal ruido de el sonido. En la mayoría de los casos es mejor
establecer el nivel máximo para el canal PCM, no usar este plugin
y controlar el nivel de salida de sus altavoces con el control de volumen
principal del mezclador. Si hay un amplificador externo conectado al ordenador
(casi siempre es el caso), el nivel de ruido puede minimizarse ajustando
el nivel principal y el botón de volumen de el amplificador hasta que el
silbido de fondo deje de oirse.
</p><p>
Uso:
</p><pre class="screen">
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=volume:volume=<em class="replaceable"><code>0-255</code></em></pre><p>
</p><p>
Este plugin tiene también capacidades de compresor o "soft-clipping".
La compresión puede usarse si el rango dinámigo del sonido es muy alto
o si el rango dinámico de los altavoces es muy bajo. tenga en cuenta que
esta característica crea distorsión y debe ser considerada como último
recurso.
</p><p>
Uso:
</p><pre class="screen">
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=volume:softclip</pre><p>
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="extrastereo"></a>2.3.2.4.6. Extrastereo</h5></div></div></div><p>
Este plugin incrementa la diferencia entre los canales izquierdo y
derecho linealmente (como el plugin extraestereo de <span class="application">XMMS</span>) lo que
produce una especie de efecto "live" durante la reproducción.
</p><p>
Uso:
</p><pre class="screen">
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=extrastereo
mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=extrastereo:mul=3.45</pre><p>

El coeficiente por defecto (<tt class="option">mul</tt>) es un número de punto flotante
que vale 2.5, Si lo deja en <code class="literal">0.0</code>, obtendrá
sonido mono (la media de ambos canales). Si lo deja en <code class="literal">1.0</code>,
no obtendrá cambios, si lo deja en <code class="literal">-1.0</code>, los canales
izquierdo y derecho serán intercambiados.
</p></div><div class="sect4" lang="es"><div class="titlepage"><div><div><h5 class="title"><a name="volnorm"></a>2.3.2.4.7. Normalizador de volumen</h5></div></div></div><p>
Este plugin maximiza el volumen sin distorsionar el sonido.
</p><p>
Uso:
</p><pre class="screen">mplayer <em class="replaceable"><code>media.avi</code></em> -aop list=volnorm</pre><p>
</p></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="codecs.html">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="features.html">Subir</a></td><td width="40%" align="right"> <a accesskey="n" href="tv-input.html">Siguiente</a></td></tr><tr><td width="40%" align="left" valign="top">2.2. Codecs soportados </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td><td width="40%" align="right" valign="top"> 2.4. Entrada de TV</td></tr></table></div></body></html>
